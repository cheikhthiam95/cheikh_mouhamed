(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{304:function(e,t,n){},500:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(3),s=n(20),i=n.n(s),a=n(16),o=n.n(a),l=n(29),j=n(4),d=n(11),u=n(19),b=n(7),p=n(10),O=n.n(p),h="GET_POSTS",x="GET_ALL_POSTS",m="LIKE_POST",f="UNLIKE_POST",g="UPDATE_POST",v="DELETE_POST",y="EDIT_COMMENT",w="EDIT_RESERVATION",N="DELETE_COMMENT",S="GET_TRENDS",E="GET_POST_ERRORS",_="UPDATE_STATUS",C="UPDATE_CLIENT",k=function(e){return function(t){return O.a.get("".concat("http://localhost:5000/","api/post/")).then((function(n){var c=n.data.slice(0,e);t({type:h,payload:c}),t({type:x,payload:n.data})})).catch((function(e){return console.log(e)}))}},R=function(e){return function(t){return O.a.post("".concat("http://localhost:5000/","api/post/"),e).then((function(e){e.data.errors?t({type:E,payload:e.data.errors}):t({type:E,payload:""})}))}},A=function(e,t){return function(n){return O()({method:"put",url:"".concat("http://localhost:5000/","api/post/").concat(e),data:{message:t}}).then((function(c){n({type:g,payload:{message:t,postId:e}})})).catch((function(e){return console.log(e)}))}},I=function(e,t,n,c){return function(r){return O()({method:"put",url:"".concat("http://localhost:5000/","api/post/").concat(e),data:{message:t,status:n,clientId:c}}).then((function(s){r({type:_,payload:{status:n,message:t,clientId:c,postId:e}})})).catch((function(e){return console.log(e)}))}},T=function(e,t){return function(n){return O()({method:"patch",url:"".concat("http://localhost:5000/","api/post/delete-reserve/").concat(e),data:{reservationId:t}}).then((function(c){n({type:N,payload:{postId:e,reservationId:t}})})).catch((function(e){return console.log(e)}))}},L=function(e,t,n,c){return function(r){return O()({method:"post",url:"".concat("http://localhost:5000/","api/post/send-mail"),data:{email:e,pseudoPro:t,subject:n,text:c}}).then((function(s){r({type:"SEND_MAIL",payload:{email:e,pseudoPro:t,subject:n,text:c}})})).catch((function(e){return console.log(e)}))}},F=function(e){var t=Date.parse(e);return new Date(t).toLocaleDateString("fr-FR",{hour:"2-digit",minute:"2-digit",weekday:"long",year:"numeric",month:"short",day:"numeric"}).toString()},H=function(e){var t=Date.parse(e);return new Date(t).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric"}).toString()},D=function(e){return new Date(e).toLocaleDateString("fr-FR",{hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"long",year:"numeric",month:"short",day:"numeric"}).toString()},z=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},M=Object(r.createContext)(),P=n(73),U=(n(276),function(e){var t=e.post,n=Object(r.useState)(!1),s=Object(j.a)(n,2),i=s[0],a=s[1],o=Object(r.useContext)(M),l=Object(b.b)();return Object(r.useEffect)((function(){t.likers.includes(o)?a(!0):a(!1)}),[o,t.likers,i]),Object(c.jsxs)("div",{className:"like-container",children:[null===o&&Object(c.jsx)(P.a,{trigger:Object(c.jsx)("img",{width:"20px",src:"./img/icons/etoile.png",alt:"like"}),position:["bottom center","bottom right","bottom left"],closeOnDocumentClick:!0,children:Object(c.jsx)("div",{children:"Connectez-vous pour ajouter \xe0 vos favoris et pour commenter!"})}),o&&!1===i&&Object(c.jsx)("img",{width:"20px",src:"./img/icons/etoile.png",onClick:function(){var e,n;l((e=t._id,n=o,function(t){return O()({method:"patch",url:"".concat("http://localhost:5000/","api/post/like-post/")+e,data:{id:n}}).then((function(c){t({type:m,payload:{postId:e,userId:n}})})).catch((function(e){return console.log(e)}))})),a(!0)},alt:"like"}),o&&i&&Object(c.jsx)("img",{width:"20px",src:"./img/icons/etoile-filled.png",onClick:function(){var e,n;l((e=t._id,n=o,function(t){return O()({method:"patch",url:"".concat("http://localhost:5000/","api/post/unlike-post/")+e,data:{id:n}}).then((function(c){t({type:f,payload:{postId:e,userId:n}})})).catch((function(e){return console.log(e)}))})),a(!1)},alt:"unlike"})]})}),V=function(e){var t=Object(b.b)(),n=function(){return t((n=e.id,function(e){return O()({method:"delete",url:"".concat("http://localhost:5000/","api/post/").concat(n)}).then((function(t){e({type:v,payload:{postId:n}})})).catch((function(e){return console.log(e)}))}));var n};return Object(c.jsx)("div",{onClick:function(){window.confirm("Voulez-vous supprimer ce post ?")&&n()},children:Object(c.jsx)("i",{className:"fas fa-trash"})})},B=n(5),q=function(e){var t=e.comment,n=e.postId,s=Object(r.useState)(!1),i=Object(j.a)(s,2),a=i[0],o=i[1],l=Object(r.useState)(!1),d=Object(j.a)(l,2),u=d[0],p=d[1],h=Object(r.useState)(""),x=Object(j.a)(h,2),m=x[0],f=x[1],g=Object(r.useContext)(M),v=Object(b.b)(),w=function(){return v(function(e,t){return function(n){return O()({method:"patch",url:"".concat("http://localhost:5000/","api/post/delete-comment-post/").concat(e),data:{commentId:t}}).then((function(c){n({type:N,payload:{postId:e,commentId:t}})})).catch((function(e){return console.log(e)}))}}(n,t._id))};return Object(r.useEffect)((function(){g===t.commenterId&&o(!0)}),[g,t.commenterId]),Object(c.jsxs)("div",{className:"edit-comment",children:[a&&!1===u&&Object(c.jsx)("i",{className:"fas fa-edit",onClick:function(){return p(!u)}}),a&&u&&Object(c.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault(),m&&(v(function(e,t,n){return function(c){return O()({method:"patch",url:"".concat("http://localhost:5000/","api/post/edit-comment-post/").concat(e),data:{commentId:t,text:n}}).then((function(r){c({type:y,payload:{postId:e,commentId:t,text:n}})})).catch((function(e){return console.log(e)}))}}(n,t._id,m)),f(""),p(!1))},className:"edit-comment-form",children:[Object(c.jsx)("label",{htmlFor:"text",onClick:function(){return p(!u)},children:"Editer"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"text",name:"text",onChange:function(e){return f(e.target.value)},defaultValue:t.text}),Object(c.jsx)("br",{}),Object(c.jsx)("i",{onClick:function(){window.confirm("Voulez-vous supprimer ce commentaire ?")&&w()},className:"fas fa-trash"})," ",Object(c.jsx)("input",{type:"submit",value:"Valider"})," ",Object(c.jsx)("input",{type:"submit",value:"Annuler",onClick:function(e){p(!1)}})]})]})},G=function(e){var t=e.post,n=Object(r.useState)(""),s=Object(j.a)(n,2),i=s[0],a=s[1],o=Object(b.c)((function(e){return e.usersReducer})),l=Object(b.c)((function(e){return e.userReducer})),d=Object(b.b)();return Object(c.jsxs)("div",{className:"comments-container",children:[t.comments.map((function(e){return Object(c.jsxs)("div",{className:e.commenterId===l._id?"comment-container client":"comment-container",children:[Object(c.jsx)("div",{className:"left-part",children:Object(c.jsxs)("h6",{children:[Object(c.jsx)("img",{height:"30",width:"30",style:{borderRadius:"50%"},src:!z(o[0])&&o.map((function(t){return t._id===e.commenterId?t.picture:null})).join(""),alt:"commenter-pic"}),e.commenterPseudo," "," ",Object(c.jsx)("span",{style:{fontSize:"10px"},children:D(e.timestamp)})]})}),Object(c.jsxs)("div",{className:"right-part",children:[Object(c.jsx)("div",{className:"comment-header",children:Object(c.jsx)("div",{className:"pseudo"})}),Object(c.jsx)(B.c,{style:{backgroundColor:"#ecf0f1",borderRadius:"5px 10px"},className:"col-6",children:e.text}),Object(c.jsx)(q,{comment:e,postId:t._id})]})]},e._id)})),l._id&&Object(c.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault(),i&&d(function(e,t,n,c){return function(r){return O()({method:"patch",url:"".concat("http://localhost:5000/","api/post/comment-post/").concat(e),data:{commenterId:t,text:n,commenterPseudo:c}}).then((function(t){r({type:"ADD_COMMENT",payload:{postId:e}})})).catch((function(e){return console.log(e)}))}}(t._id,l._id,i,l.pseudo)).then((function(){return d(k())})).then((function(){return a("")}))},className:"comment-form",children:[Object(c.jsx)("input",{type:"text",name:"text",onChange:function(e){return a(e.target.value)},value:i,placeholder:"Laisser un commentaire"}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{className:"fas fa-paper-plane","aria-hidden":"true",type:"submit"}),Object(c.jsx)("br",{})]})]})},W=n(12),J=(n(38),function(e){var t=e.post,n=Object(r.useState)(""),s=Object(j.a)(n,2),i=s[0],a=s[1],o=Object(r.useState)(),l=Object(j.a)(o,2),d=l[0],u=l[1],p=Object(b.c)((function(e){return e.userReducer})),h=Object(b.c)((function(e){return e.usersReducer})),x=Object(r.useState)([]),m=Object(j.a)(x,2),f=m[0],g=m[1],v=Object(b.b)();return Object(c.jsxs)("div",{children:[t.titre,Object(c.jsx)("br",{}),t.prises.map((function(e){return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("h6",{children:[Object(c.jsx)("img",{height:"30",width:"30",style:{borderRadius:"50%"},src:!z(h[0])&&h.map((function(t){return t._id===e.priseId?t.picture:null})).join(""),alt:"prise-pic"}),e.prisePseudo," "," ",Object(c.jsx)("span",{style:{fontSize:"10px"},children:D(e.timestamp)})]}),Object(c.jsx)("p",{children:e.text}),e.prisePicture&&Object(c.jsx)("img",{height:"200",width:"100%",src:e.prisePicture,alt:"card-pic",className:"card-pic"})]})})),Object(c.jsx)("br",{}),i||f?Object(c.jsx)("div",{className:"container",children:function(e){if(e)return e.map((function(e){return Object(c.jsx)("img",{height:"200px",width:"50%",src:e,alt:""},e)}))}(f)}):null,Object(c.jsx)("br",{}),p._id&&Object(c.jsxs)("form",{action:"",onSubmit:function(e){if(e.preventDefault(),i||d){var n=new FormData;n.append("priseId",p._id),n.append("prisePseudo",p.pseudo),n.append("file",d),n.append("text",i),v(function(e,t){return function(n){return O.a.patch("".concat("http://localhost:5000/","api/post/prise-post/").concat(t),e).then((function(e){n({type:"ADD_PRISE",payload:e.data})})).catch((function(e){return console.log(e)}))}}(n,t._id)).then((function(){return v(k())})).then((function(){return a("")})).then((function(){return g("")}))}},className:"prise-form",enctype:"multipart/form-data",children:[Object(c.jsx)("textarea",{class:"form-control rounded-0",id:"exampleFormControlTextarea2",rows:"3",name:"text",placeholder:"Racontez-nous...",onChange:function(e){return a(e.target.value)},value:i}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{multiple:!0,type:"file",id:"file",name:"file",accept:".jpg, .jpeg, .png",onChange:function(e){if(e.target.files){var t=Array.from(e.target.files).map((function(e){return URL.createObjectURL(e)}));g((function(e){return e.concat(t)})),u(e.target.files[0])}}}),Object(c.jsx)("input",{type:"button",value:"Annuler",onClick:function(){u(""),a(""),g("")}})," ",Object(c.jsx)("button",{className:"fas fa-paper-plane","aria-hidden":"true",type:"submit"}),Object(c.jsx)("br",{})]})]})}),Y=n(508),Q=n(509),K=n(510),Z=n(511),X=n(512),$=n(513),ee=n(514),te=n(515),ne=n(516),ce=n(517),re=n(518),se=n(519),ie=n(520),ae=n(521),oe=function(e){var t,n=e.post,s=Object(r.useState)([]),i=Object(j.a)(s,2),a=i[0],o=i[1],l=Object(r.useState)(""),d=Object(j.a)(l,2),u=d[0],p=d[1],h=Object(b.b)();return Object(c.jsx)("div",{children:Object(c.jsxs)(c.Fragment,{children:[n.picture.map((function(e){return Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("img",{height:"200",width:"100%",src:e,alt:"card-pic",className:"card-pic",style:{padding:"5px",borderRadius:"10px"}})})})),Object(c.jsx)("br",{}),a?Object(c.jsx)("div",{className:"container",children:(t=a,t.map((function(e){return Object(c.jsx)("img",{height:"200px",width:"100%",src:e,alt:"",style:{borderRadius:"10px"}},e)})))}):null,Object(c.jsx)("br",{}),n.picture.length<5?Object(c.jsxs)("form",{action:"",enctype:"multipart/form-data",children:[Object(c.jsx)("input",{type:"file",id:"file",name:"file",accept:".jpg, .jpeg, .png",onChange:function(e){if(e.target.files){var t=Array.from(e.target.files).map((function(e){return URL.createObjectURL(e)}));o((function(e){return e.concat(t)})),p(e.target.files[0])}}}),Object(c.jsx)(B.b,{type:"submit",onClick:function(){if(u){var e=new FormData;e.append("picId",n._id),e.append("file",u),h(function(e,t){return function(n){return O.a.patch("".concat("http://localhost:5000/","api/post/add-pic/").concat(t),e).then((function(e){n({type:"ADD_PIC",payload:e.data})})).catch((function(e){return console.log(e)}))}}(e,n._id)).then((function(){return h(k())})).then((function(){return o("")}))}},children:"Envoyer"})]}):Object(c.jsx)("p",{})]})})},le=[{subject:"Bienvenu sur AtypikHouse",text:"Nous sommes heureux de vous comptez parmi les n\xf4tres"},{subject:"Demande de r\xe9servation",text:"Vous avez une demande de r\xe9servation en attente de validation, nous vous invitons \xe0 consulter votre espace propri\xe9taire."},{subject:"Confirmation de paiement",text:"Nous vous informons que votre virement a \xe9t\xe9 r\xe9alis\xe9 avec succ\xe8s. Cependant, nous le propir\xe9taire percevra cette somme si la r\xe9servation est valid\xe9. Dans le cas d'un refus, cette somme vous sera rembours\xe9e. "},{subject:"Demande de r\xe9servation accept\xe9e",text:"Votre demande de r\xe9servation a \xe9t\xe9 valid\xe9 par le propri\xe9taire. Nous vous souhaitons un agr\xe9able s\xe9jour."},{subject:"Demande de r\xe9servation r\xe9fus\xe9e",text:"Votre demande de r\xe9servation a \xe9t\xe9 invalid\xe9 par le propri\xe9taire. La bonne nouvelle est que nous avons beaucoup d'autres offres qui feront votre bonheur. Connectez-vous vite."},{subject:"Annulation de la demande r\xe9servation",text:"La demande de r\xe9servation a \xe9t\xe9 annul\xe9e."}],je=function(e){var t=e.post,n=Object(r.useState)(!0),s=Object(j.a)(n,2),i=s[0],a=s[1],o=Object(r.useState)(!1),l=Object(j.a)(o,2),u=l[0],p=l[1],O=Object(r.useState)(null),h=Object(j.a)(O,2),x=h[0],m=h[1],f=Object(r.useState)(!1),g=Object(j.a)(f,2),v=g[0],y=g[1],w=Object(b.c)((function(e){return e.usersReducer})),N=Object(b.c)((function(e){return e.userReducer})),S=Object(b.b)(),E=Object(r.useContext)(M),_=Object(r.useState)(!1),C=Object(j.a)(_,2),k=C[0],R=C[1],D=Object(r.useState)(!1),q=Object(j.a)(D,2),je=q[0],de=q[1],ue=function(){de(!0)},be=function(){R(!1),me()},pe=function(){de(!1)};Object(r.useEffect)((function(){!z(w[0])&&a(!1)}),[w]);var Oe=function(){S(I(t._id,t.message,"reserv\xe9",t.clientId)),!z(w[0])&&w.map((function(e){e._id===t.clientId&&S(L(e.email,e.pseudo,le[3].subject,le[3].text))}))},he=function(){S(I(t._id,t.message,"refus\xe9",t.clientId)),!z(w[0])&&w.map((function(e){e._id===t.clientId&&S(L(e.email,e.pseudo,le[4].subject,le[4].text))})),t.reservations.map((function(e){S(T(t._id,e._id))})),window.location.reload(!1)},xe=function(){S(I(t._id,t.message,"validation"))},me=function(){window.location.reload(!1)};return Object(c.jsx)("div",{children:Object(c.jsx)(B.c,{style:{backgroundColor:"#f5f6fa"},children:Object(c.jsx)("li",{className:"container",children:i?Object(c.jsx)("i",{className:"fas fa-spinner fa-spin"}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"round",children:Object(c.jsx)("h6",{style:{paddingTop:"3px"},children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-6",children:[Object(c.jsx)("img",{height:"40",width:"40",style:{borderRadius:"50%"},src:!z(w[0])&&w.map((function(e){return e._id===t.posterId?e.picture:null})).join(""),alt:"poster-pic"}),"  ",!z(w[0])&&w.map((function(e){return e._id===t.posterId?e.pseudo:null})).join("")]}),Object(c.jsx)("div",{className:"col-6",children:Object(c.jsxs)("div",{className:"col-sm",style:{textAlign:"right"},children:[Object(c.jsx)("img",{onClick:function(){R(!0)},style:{cursor:"pointer"},src:"./img/camera.png",title:"Prise de vue locataire",alt:""}),Object(c.jsxs)(W.a,{show:k,onHide:be,children:[Object(c.jsx)(W.a.Header,{children:Object(c.jsx)(W.a.Title,{children:"Prise de vue et activit\xe9s \xe0 proximit\xe9"})}),Object(c.jsx)(W.a.Body,{children:Object(c.jsx)(J,{post:t},t._id)}),Object(c.jsx)(W.a.Footer,{children:Object(c.jsx)("button",{onClick:be,children:"Fermer"})})]}),Object(c.jsx)("br",{}),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{onClick:ue,style:{cursor:"pointer"},title:"Voir toutes les images",children:Object(c.jsx)("i",{className:"fas fa-image"})}),Object(c.jsxs)(W.a,{show:je,onHide:pe,children:[Object(c.jsx)(W.a.Header,{children:Object(c.jsx)(W.a.Title,{children:"Images"})}),Object(c.jsxs)(W.a.Body,{children:[" ",Object(c.jsx)(oe,{post:t},t._id)]}),Object(c.jsx)(W.a.Footer,{children:Object(c.jsx)("button",{onClick:pe,children:"Fermer"})})]})]}),function(){if(null!==t.clientId&&"propri\xe9taire"===N.role)return Object(c.jsx)(P.a,{trigger:Object(c.jsx)("i",{class:"fas fa-address-card",title:"fiche locataire"}),position:["bottom right"],closeOnDocumentClick:!0,children:Object(c.jsx)("div",{children:!z(w[0])&&w.map((function(e){if(e._id===t.clientId)return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("p",{children:["Pseudo : ",e.pseudo,"reserv\xe9"===t.status&&Object(c.jsx)("img",{src:"./img/check.png",alt:""}),"refus\xe9"===t.status&&Object(c.jsx)("img",{src:"./img/close.png",alt:""}),"attente"===t.status&&Object(c.jsx)("img",{src:"./img/Spinner.svg",alt:""}),Object(c.jsx)("br",{}),e.email," ",Object(c.jsx)("br",{}),"Tel : ",e.tel]})})}))})});t.clientId}()]})})]})})}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h6",{style:{fontWeight:"bold"},children:t.titre}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-sm",children:[Object(c.jsxs)(c.Fragment,{children:[""!==t.picture[0]&&Object(c.jsx)("img",{height:"200",style:{borderRadius:"10px"},width:"100%",src:t.picture[0],alt:"card-pic",className:"card-pic"}),t.video&&Object(c.jsx)("iframe",{width:"100%",height:"200",style:{borderRadius:"10px",paddingTop:"5px"},src:t.video,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:t._id})]}),u&&Object(c.jsxs)("div",{className:"update-post",children:[Object(c.jsx)("textarea",{defaultValue:t.message,onChange:function(e){return m(e.target.value)}}),Object(c.jsx)("div",{className:"button-container",children:Object(c.jsx)("button",{className:"btn",onClick:function(){x&&S(A(t._id,x)),p(!1)},children:"Valider modification"})})]}),Object(c.jsx)("div",{style:{position:"relative",bottom:"22px",right:"0px",display:"flex",zIndex:10,backgroundColor:"rgba(0, 0, 0, 0.6)",color:"white",width:"25px",borderRadius:"50px",fontWeight:"bolder",paddingLeft:"8px"},children:t.picture.length})]}),Object(c.jsxs)("div",{className:"col-sm",children:[Object(c.jsx)("span",{style:{fontSize:"12px"},children:F(t.createdAt)}),!1===u&&Object(c.jsx)("p",{children:t.message}),Object(c.jsx)("span",{style:{fontSize:"12px",color:"darkkhaki"},children:t.type}),Object(c.jsx)("br",{}),Object(c.jsxs)("span",{style:{fontSize:"12px",color:"darkkhaki"},children:[t.prix," \u20ac la nuit\xe9"]}),Object(c.jsx)("br",{}),Object(c.jsxs)("span",{style:{fontSize:"12px",color:"darkkhaki"},children:[t.nbr_personne," personne",t.nbr_personne>1?"s":""]}),Object(c.jsx)("br",{}),Object(c.jsx)("span",{style:{fontSize:"12px",color:"darkkhaki"},children:t.departement}),Object(c.jsx)("br",{}),Object(c.jsxs)("span",{style:{fontSize:"12px",color:"darkkhaki"},children:["Disponible du ",H(t.date_open)," au ",H(t.date_close)]}),Object(c.jsx)("br",{}),Object(c.jsxs)("span",{style:{fontSize:"12px",fontWeight:"bolder"},children:[" ",t.reservations?t.reservations.map((function(e){return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("span",{children:["Reservation du ",H(e.date_open)," au ",H(e.date_close)]})})})):null]}),void(!z(t.reservations[0])&&t.reservations.map((function(e){return Object(c.jsx)("h1",{children:H(e.date_open)})})))]})]}),N._id===t.posterId&&Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("div",{onClick:function(){return p(!u)},children:Object(c.jsx)("i",{className:"fas fa-edit"})}),Object(c.jsx)(V,{id:t._id})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-sm",children:[Object(c.jsx)("span",{style:{fontSize:"12px"}}),Object(c.jsx)("i",{onClick:function(){return y(!v)},className:"fas fa-comment"}),"  ",t.comments.length]}),Object(c.jsx)("div",{className:"col-sm",children:Object(c.jsx)(U,{post:t})}),Object(c.jsxs)("div",{className:"col-sm",children:[null===E&&Object(c.jsx)(P.a,{trigger:Object(c.jsx)("img",{width:"25px",src:"./img/calendar.png",alt:"reserve"}),position:["bottom center","bottom right","bottom left"],closeOnDocumentClick:!0,children:Object(c.jsx)("div",{children:"Connectez-vous pour faire une reservation!"})}),E&&("propri\xe9taire"!==N.role&&"non_reserv\xe9"===t.status||"propri\xe9taire"!==N.role&&"refus\xe9"===t.status?Object(c.jsx)(d.c,{to:{pathname:"/reservation",search:"id=".concat(t._id)},exact:!0,children:Object(c.jsx)("img",{width:"25px",src:"./img/calendar.png",alt:"reserve","data-toggle":"modal","data-target":"#exampleModal"})}):"propri\xe9taire"!==N.role&&t.clientId===N._id&&"attente"===t.status?Object(c.jsxs)("div",{children:[Object(c.jsxs)("span",{style:{fontSize:"12px"},children:["status : ",Object(c.jsx)("span",{style:{backgroundColor:"#25fde9",borderRadius:"4px 8px"},children:"En attente de validation"})]}),Object(c.jsx)("br",{}),Object(c.jsx)("form",{action:"",onClick:function(){window.confirm("Voulez-vous annuler votre demande de reservation ?")&&(S(I(t._id,t.message,"non_reserv\xe9")),!z(w[0])&&w.map((function(e){t.posterId===e._id&&S(L(e.email,e.pseudo,le[5].subject,le[5].text))})),t.reservations.map((function(e){S(T(t._id,e._id))})))},children:Object(c.jsx)("button",{type:"submit",titre:"Annuler la reservation",children:"Annuler"})})]}):"propri\xe9taire"!==N.role&&null!==t.clientId&&"reserv\xe9"===t.status?Object(c.jsx)("div",{children:Object(c.jsxs)("span",{style:{fontSize:"12px"},children:["status : ",Object(c.jsx)("span",{style:{backgroundColor:"#2ed573",borderRadius:"4px 8px"},children:"Reserv\xe9 \ud83d\ude09"})]})}):"propri\xe9taire"!==N.role&&null!==t.clientId&&"refus\xe9"===t.status?Object(c.jsx)("div",{children:Object(c.jsxs)("span",{style:{fontSize:"12px"},children:["status : ",Object(c.jsx)("span",{style:{backgroundColor:"#ff4757",borderRadius:"4px 8px"},children:"Refus"})]})}):"propri\xe9taire"!==N.role&&null!==t.clientId&&"annul\xe9"===t.status?Object(c.jsx)("div",{children:Object(c.jsxs)("span",{style:{fontSize:"12px"},children:["status : ",Object(c.jsx)("span",{style:{backgroundColor:"#ff4757",borderRadius:"4px 8px"},children:"Votre reservation a \xe9t\xe9 annul\xe9e"})]})}):"propri\xe9taire"===N.role?Object(c.jsx)("div",{children:Object(c.jsxs)("span",{style:{fontSize:"12px"},children:["status : ","reserv\xe9"===t.status?Object(c.jsx)("span",{style:{fontSize:"12px",backgroundColor:"#2ed573",borderRadius:"4px 8px"},children:"R\xe9serv\xe9"}):"attente"===t.status?Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{style:{fontSize:"12px",backgroundColor:"#25fde9",borderRadius:"4px 8px"},children:"En attente"}),Object(c.jsx)("form",{action:"",onClick:Oe,children:Object(c.jsx)("button",{type:"submit",children:"Valider"})})," ",Object(c.jsx)("form",{action:"",onClick:he,children:Object(c.jsx)("button",{type:"button",children:"Refuser"})})]}):"annul\xe9"===t.status?Object(c.jsx)("span",{style:{fontSize:"12px",backgroundColor:"#ff9f1a",borderRadius:"4px 8px"},children:"Annul\xe9"}):"non_reserv\xe9"===t.status||"refus\xe9"===t.status?Object(c.jsx)("span",{style:{fontSize:"12px",backgroundColor:"#ff9f1a",borderRadius:"4px 8px"},children:"Non reserv\xe9"}):"ajout_images"===t.status&&t.picture.length<5?Object(c.jsxs)("span",{style:{fontSize:"12px",fontWeight:"bolder"},children:[" Vous avez ",t.picture.length," image",t.picture.length<2?"":"s"]}):"ajout_images"===t.status&&5===t.picture.length?Object(c.jsx)("form",{action:"",onClick:xe,children:Object(c.jsx)("button",{type:"submit",children:"Soumettre"})}):void 0]})}):void 0)]}),Object(c.jsx)("div",{className:"col-sm",children:Object(c.jsxs)(P.a,{trigger:Object(c.jsx)("img",{width:"15px",title:"Partager",src:"./img/share.png",alt:"share"}),position:["top left"],size:["Nano - 10%"],closeOnDocumentClick:!0,children:[Object(c.jsx)(Y.a,{url:"http://localhost:3000/reservation?id=".concat(t._id),quote:"Hey !!!!",hashtag:"#atyipkhouseG4",children:Object(c.jsx)(Q.a,{size:"20px",logoFillColor:"white",round:!0})})," ",Object(c.jsx)(K.a,{url:"http://localhost:3000/reservation?id=".concat(t._id),quote:"Hey !!!!",hashtag:"#atyipkhouseG4",children:Object(c.jsx)(Z.a,{size:"20px",logoFillColor:"white",round:!0})})," ",Object(c.jsx)(X.a,{url:"http://localhost:3000/reservation?id=".concat(t._id),quote:"Hey !!!!",hashtag:"#atyipkhouseG4",children:Object(c.jsx)($.a,{size:"20px",logoFillColor:"white",round:!0})})," ",Object(c.jsx)(ee.a,{url:"http://localhost:3000/reservation?id=".concat(t._id),quote:"Hey !!!!",hashtag:"#atyipkhouseG4",children:Object(c.jsx)(te.a,{size:"20px",logoFillColor:"white",round:!0})})," ",Object(c.jsx)(ne.a,{url:"http://localhost:3000/reservation?id=".concat(t._id),quote:"Hey !!!!",hashtag:"#atyipkhouseG4",children:Object(c.jsx)(ce.a,{size:"20px",logoFillColor:"white",round:!0})})," ",Object(c.jsx)(re.a,{url:"http://localhost:3000/reservation?id=".concat(t._id),quote:"Hey !!!!",hashtag:"#atyipkhouseG4",children:Object(c.jsx)(se.a,{size:"20px",logoFillColor:"white",round:!0})})," ",Object(c.jsx)(ie.a,{url:"http://localhost:3000/reservation?id=".concat(t._id),quote:"Hey !!!!",hashtag:"#atyipkhouseG4",children:Object(c.jsx)(ae.a,{size:"20px",logoFillColor:"white",round:!0})})]})})]}),v&&Object(c.jsx)(G,{post:t})]})]})},t._id)})})},de=function(){var e=Object(r.useState)(!0),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(r.useState)(5),a=Object(j.a)(i,2),o=a[0],l=a[1],d=Object(b.b)(),u=Object(b.c)((function(e){return e.postReducer})),p=function(){window.innerHeight+document.documentElement.scrollTop+1>document.scrollingElement.scrollHeight&&s(!0)};return Object(r.useEffect)((function(){return n&&(d(k(o)),s(!1),l(o+5)),window.addEventListener("scroll",p),function(){return window.removeEventListener("scroll",p)}}),[n,d,o]),Object(c.jsx)("div",{className:"thread-container",children:Object(c.jsx)("ul",{children:!z(u[0])&&u.map((function(e){if("non_reserv\xe9"===e.status||"refus\xe9"===e.status)return Object(c.jsx)(je,{post:e},e._id)}))})})},ue=function(){var e=Object(b.c)((function(e){return e.allPostsReducer})),t=Object(b.c)((function(e){return e.usersReducer})),n=Object(b.c)((function(e){return e.bestofReducer})),s=Object(b.b)();return Object(r.useEffect)((function(){if(!z(e[0])){var t=Object.keys(e).map((function(t){return e[t]})).sort((function(e,t){return t.likers.length-e.likers.length}));t.length=3,s(function(e){return function(t){t({type:S,payload:e})}}(t))}}),[e,s]),Object(c.jsxs)("div",{children:[Object(c.jsx)("br",{}),Object(c.jsx)("h6",{style:{textAlign:"center",fontWeight:"bold",color:"#17233e"},children:"Nos BEST of"}),Object(c.jsx)(d.c,{exact:!0,to:"/bestof",children:Object(c.jsx)("ul",{children:n.length&&n.map((function(e){return Object(c.jsx)(B.c,{style:{backgroundColor:"#f5f6fa",borderRadius:"10px"},children:Object(c.jsxs)("li",{children:[Object(c.jsxs)("div",{children:[""!==e.picture[0]&&Object(c.jsx)("img",{height:"200",width:"100%",style:{borderRadius:"10px",paddingBottom:"5px"},src:e.picture[0],alt:"post-pic"}),e.video&&Object(c.jsx)("iframe",{src:e.video,height:"200",width:"100%",style:{borderRadius:"10px"},frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:e._id}),z(e.picture)&&z(e.video)&&Object(c.jsx)("img",{height:"40",style:{borderRadius:"50%",align:"center"},src:t[0]&&t.map((function(t){return t._id===e.posterId?t.picture:null})).join(""),alt:"profil-pic"})]}),Object(c.jsxs)("div",{className:"trend-content",children:[Object(c.jsx)("p",{children:e.message}),Object(c.jsx)("span",{children:"Lire"})]})]},e._id)})}))})})]})},be=function(){return Object(c.jsx)("div",{className:"left-nav-container",children:Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("a",{href:"https://www.facebook.com/AtypikHouse-G4-111309504389945",target:"_blank",rel:"noreferrer",children:Object(c.jsx)("img",{className:"img_dec",src:"./img/logo/facebook.png",alt:"facebook"})}),Object(c.jsx)("br",{}),Object(c.jsx)("a",{href:"https://www.instagram.com/atypikhouse.g4/",target:"_blank",rel:"noreferrer",children:Object(c.jsx)("img",{className:"img_dec",src:"./img/logo/instagram.png",alt:"instagram"})}),Object(c.jsx)("br",{}),Object(c.jsx)("a",{href:"https://twitter.com/AtypikhouseG",target:"_blank",rel:"noreferrer",children:Object(c.jsx)("img",{className:"img_dec",src:"./img/logo/twitter.png",alt:"twitter"})}),Object(c.jsx)("br",{}),Object(c.jsx)("a",{href:"https://linkedin.com",target:"_blank",rel:"noreferrer",children:Object(c.jsx)("img",{className:"img_dec",src:"./img/logo/linkedin.png",alt:"linkedin"})})]})})})},pe=function(){var e=Object(b.c)((function(e){return e.postReducer})),t=Object(r.useState)(""),n=Object(j.a)(t,2),s=n[0],i=n[1],a=Object(r.useState)(""),o=Object(j.a)(a,2),l=o[0],d=o[1],u=Object(r.useState)(""),p=Object(j.a)(u,2),O=p[0],h=p[1];return Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-12",children:[Object(c.jsx)("label",{style:{color:"#f39200"},children:"Date d'arriver"}),Object(c.jsx)("input",{htmlFor:"date_arr",type:"date",id:"date_arr",onChange:function(e){return i(e.target.value)}})]}),Object(c.jsxs)("div",{className:"col-12",children:[Object(c.jsx)("label",{style:{color:"#f39200"},children:"Date de d\xe9part"}),Object(c.jsx)("input",{htmlFor:"date_dep",type:"date",id:"date_dep",onChange:function(e){return d(e.target.value)}})]}),Object(c.jsx)("div",{className:"col-4",children:Object(c.jsxs)("select",{onChange:function(e){return h(e.target.value)},name:"type",id:"type",class:"browser-default custom-select",children:[Object(c.jsx)("option",{value:"",children:"Tous"}),Object(c.jsx)("option",{value:"cabane dans les arbres",children:"cabane dans les arbres"}),Object(c.jsx)("option",{value:"cabane flottante",children:"cabane flottante"}),Object(c.jsx)("option",{value:"yourte",children:"yourte"}),Object(c.jsx)("option",{value:"",children:"Autre"})]})}),Object(c.jsx)("div",{className:"col-6"}),Object(c.jsx)("div",{className:"col-2",children:Object(c.jsx)("i",{title:"Rafra\xeechir",onClick:function(){i(""),d(""),h("")},class:"fas fa-sync-alt"})})]}),Object(c.jsx)("div",{children:!z(e[0])&&e.map((function(e){if("non_reserv\xe9"===e.status&&(s<e.date_open||e.date_close>s)&&s>e.date_open&&l<=e.date_close)return Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{style:{color:"#f39200",fontWeight:"bold"},children:"Disponible"}),Object(c.jsx)(je,{post:e},e._id)]})}))}),Object(c.jsx)("div",{children:!z(e[0])&&e.map((function(e){if(e.type===O&&"non_reserv\xe9"===e.status)return Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{style:{color:"green"},children:e.type}),Object(c.jsx)(je,{post:e},e._id)]})}))})]})},Oe=n(15),he=n(9),xe=[{title:"Locataire",link:"/profil"},{title:"Propri\xe9taire",link:"/profil_pro"},{title:"Administrateur",link:"/profil_admin"}],me=[{title:"Reservations",link:"/mes_reservations"},{title:"Favoris",link:"/favoris"},{title:"Profil",link:"/profil"}],fe=[{title:"D\xe9poser une annonce",link:"/newpost"},{title:"Mes offres",link:"/post_pro"},{title:"Profil",link:"/profil_pro"}];function ge(){var e=Object(Oe.a)(["\n    background: ",";\n    border-radius: 20px;\n    white-space : nowrap;\n    outline: nome;\n    border : none;\n    min-width: 100px;\n    max-width : 200px;\n    cursor : pointer;\n    text-decoration: none;\n    transition : 0.3s;\n    display: flex;\n    justify-content : center;\n    align-items: center;\n    padding: ",";\n    color: ",";\n    font-size: ",";\n\n    &:hover {\n        transform: translateY(-2px);\n        font-weight: bold;\n        color: #fff;\n    }\n\n"]);return ge=function(){return e},e}var ve=Object(he.c)(d.b)(ge(),(function(e){return e.primary?"#17233e":"#CD853F"}),(function(e){return e.big?"16px 40px":"14px 24px"}),(function(e){return e.primary?"#fff":"#000"}),(function(e){return e.big?"20px":"14px"})),ye=n(55),we=n(233),Ne=n.n(we),Se=(n(79),function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"get",url:"".concat("http://localhost:5000/","api/user/logout"),withCredentials:!0}).then((function(){return e="jwt",void("undefined"!==window&&Ne.a.remove(e,{expires:1}));var e})).catch((function(e){return console.log(e)}));case 2:window.location="/profil";case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)("a",{href:"/",children:Object(c.jsxs)("div",{onClick:e,style:{textAlign:"center",paddingLeft:"82%",paddingRight:"18%"},children:["  ",Object(c.jsx)("i",{class:"fas fa-power-off",style:{color:"#17233e"}})]})})});function Ee(){var e=Object(Oe.a)(["\n    color: #fff;\n    display: flex;\n    align-items: center;\n    padding: 0 1rem;\n    cursor: pointer;\n    text-decoration: none;\n\n    &:hover {\n        transform: translateY(-2px);\n        color: #17233e;\n        font-weight: bold;\n    }\n"]);return Ee=function(){return e},e}var _e=he.c.nav.withConfig({displayName:"NavBar__Nav",componentId:"sc-6yrkyv-0"})(["color:#fff;height:60px;display:flex;justify-content:space-between;padding:1rem 2rem;z-index:100;position:fixed;width:100%;background-color:#f39200;"]),Ce=Object(he.b)(Ee()),ke=Object(he.c)(d.b).withConfig({displayName:"NavBar__Logo",componentId:"sc-6yrkyv-1"})(["",""],Ce),Re=Object(he.c)(ye.a).withConfig({displayName:"NavBar__MenuBars",componentId:"sc-6yrkyv-2"})(["display:none;cursor:pointer;@media screen and (max-width:1007px){display:block;}"]),Ae=he.c.div.withConfig({displayName:"NavBar__NavMenu",componentId:"sc-6yrkyv-3"})(["display:flex;align-items:center;margin-right:-48px;@media screen and (max-width:1007px){display:none;}"]),Ie=Object(he.c)(d.b).withConfig({displayName:"NavBar__NavMenuLinks",componentId:"sc-6yrkyv-4"})(["",""],Ce),Te=he.c.div.withConfig({displayName:"NavBar__NavBtn",componentId:"sc-6yrkyv-5"})(["display:flex;align-items:center;margin-right:24px;@media screen and (max-width:768px){display:none;}"]),Le=function(e){var t=e.toggle,n=Object(r.useContext)(M),s=Object(b.c)((function(e){return e.userReducer}));return Object(c.jsxs)(_e,{children:[Object(c.jsx)(ke,{to:"/accueil",children:Object(c.jsx)("h3",{style:{color:"white",fontFamily:"fantasy"},children:"AtypikHouse"})}),n&&Object(c.jsx)(Ie,{to:"profil",children:Object(c.jsx)("img",{height:"40",width:"40",style:{borderRadius:"50%"},src:s.picture,alt:"poster-pic"})}),Object(c.jsx)(Re,{onClick:t}),Object(c.jsxs)(Ae,{children:[n?me.map((function(e,t){return Object(c.jsx)(Ie,{to:e.link,children:e.title},t)})):xe.map((function(e,t){return Object(c.jsx)(Ie,{to:e.link,children:e.title},t)})),n?Object(c.jsx)(Se,{}):Object(c.jsx)("div",{})]}),Object(c.jsx)(Te,{children:Object(c.jsx)(ve,{to:"/home",primary:"true",children:"Accueil"})})]})};function Fe(){var e=Object(Oe.a)(["\n    display: flex;\n    justify-content: center;\n"]);return Fe=function(){return e},e}function He(){var e=Object(Oe.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: #fff\n    font-size: 1.5rem;\n    text-decoration: none;\n    list-style: none;\n    color: #fff;\n    cursor: pointer;\n    transition: 0.2s ease-in-out;\n\n    &:hover {\n        color: #17233e;\n        font-weight: bold;\n    }\n"]);return He=function(){return e},e}function De(){var e=Object(Oe.a)(["\n    display: grid;\n    grid-template-colunms: 1fr;\n    grid-template-rows: repeat(4, 80px);\n    text-align: center;\n    margin-bottom: 4rem;\n\n    @media screen and (max-width: 480px) {\n        grid-template-rows: repeat(4, 60px);\n    }\n"]);return De=function(){return e},e}function ze(){var e=Object(Oe.a)(["\n\n"]);return ze=function(){return e},e}function Me(){var e=Object(Oe.a)(["\n    color: #000d1a;\n"]);return Me=function(){return e},e}function Pe(){var e=Object(Oe.a)(["\n    position: absolute;\n    top: 1.2rem;\n    right: 1.5rem;\n    background: transparent;\n    font-size: 2rem;\n    cursor: pointer;\n    outline: none;\n"]);return Pe=function(){return e},e}function Ue(){var e=Object(Oe.a)(["\n    position: fixed;\n    z-index: 999;\n    width: 100%;\n    height: 100%;\n    background: #cd853f;\n    display: grid;\n    align-items: center;\n    top: 0;\n    left: 0;\n    transition: 0.3s ease-in-out;\n    opacity: ",";\n    top: ",";\n"]);return Ue=function(){return e},e}var Ve=he.c.div(Ue(),(function(e){return e.isOpen?"1":"0"}),(function(e){return e.isOpen?"0":"-100%"})),Be=he.c.div(Pe()),qe=Object(he.c)(ye.b)(Me()),Ge=he.c.div(ze()),We=he.c.div(De()),Je=Object(he.c)(d.b)(He()),Ye=he.c.div(Fe()),Qe=function(e){var t=e.isOpen,n=e.toggle,s=Object(r.useContext)(M);return Object(c.jsxs)(Ve,{isOpen:t,onClick:n,children:[Object(c.jsx)(Be,{onClick:n,children:Object(c.jsx)(qe,{})}),Object(c.jsxs)(Ge,{children:[Object(c.jsxs)(We,{children:[s?me.map((function(e,t){return Object(c.jsx)(Je,{to:e.link,children:e.title},t)})):xe.map((function(e,t){return Object(c.jsx)(Je,{to:e.link,children:e.title},t)})),s?Object(c.jsx)("div",{style:{paddingRight:"40%"},children:Object(c.jsx)(Se,{})}):Object(c.jsx)("div",{})]}),Object(c.jsx)(Ye,{children:Object(c.jsx)(ve,{primary:"true",round:"true",to:"/home",children:"Accueil"})})]})]})},Ke=n(234),Ze=function(){var e=Object(r.useState)(!1),t=Object(j.a)(e,2),n=t[0],s=t[1],i=function(){s(!n)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Le,{toggle:i}),Object(c.jsx)(Qe,{isOpen:n,toggle:i}),Object(c.jsx)("div",{className:"container",style:{paddingTop:"60px"},children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-1",style:{float:"right"},children:Object(c.jsx)(be,{})}),Object(c.jsxs)("div",{className:"col-8",children:[Object(c.jsx)("br",{}),Object(c.jsx)(pe,{}),Object(c.jsx)("hr",{color:"#f39200"}),Object(c.jsx)(de,{})]}),Object(c.jsxs)("div",{className:"col-3",children:[Object(c.jsx)("div",{className:"hide-trends",children:Object(c.jsx)(ue,{})}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsxs)("div",{className:"show-link",style:{textAlign:"center",fontWeight:"bold",color:"#17233e"},children:["Best of ",Object(c.jsx)("br",{}),Object(c.jsx)(d.c,{to:"bestof",style:{color:"#f39200"},children:Object(c.jsx)(Ke.a,{})})]})]})]})})]})},Xe=function(){var e=Object(r.useState)(""),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(r.useState)(""),a=Object(j.a)(i,2),o=a[0],l=a[1],d=Object(r.useState)(""),u=Object(j.a)(d,2),b=u[0];u[1];return Object(c.jsx)(B.f,{children:Object(c.jsx)(B.l,{children:Object(c.jsx)(B.e,{md:"12",children:Object(c.jsx)(B.c,{children:Object(c.jsx)(B.d,{children:Object(c.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault();var t=document.querySelector(".email.error"),c=document.querySelector(".password.error"),r=document.querySelector(".role.error");O()({method:"post",url:"".concat("http://localhost:5000/","api/user/login"),withCredentials:!0,data:{email:n,password:o,role:b}}).then((function(e){console.log(e),e.data.errors?(t.innerHTML=e.data.errors.email,c.innerHTML=e.data.errors.password,r.innerHTML=e.data.errors.role):window.location="/home"})).catch((function(e){console.log(e)}))},id:"sign-up-form",children:[Object(c.jsx)("p",{className:"h4 text-center py-4",children:"Connexion locataire"}),Object(c.jsx)("div",{className:"role error"}),Object(c.jsxs)("div",{className:"grey-text",children:[Object(c.jsx)(B.i,{label:"email",icon:"envelope",type:"text",name:"email",id:"email",onChange:function(e){return s(e.target.value)},value:n}),Object(c.jsx)("div",{className:"email error"}),Object(c.jsx)(B.i,{label:"password",icon:"lock",type:"password",name:"password",id:"password",onChange:function(e){return l(e.target.value)},value:o}),Object(c.jsx)("div",{className:"password error"})]}),Object(c.jsx)("div",{className:"text-center py-4 mt-3",children:Object(c.jsx)(B.b,{type:"submit",children:"Se connecter"})})]})})})})})})},$e=n(110),et=n.n($e),tt=n(32),nt=(n(171),function(){var e=Object(r.useState)(!1),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(r.useState)(!1),a=Object(j.a)(i,2),d=a[0],u=a[1],b=Object(r.useState)(""),p=Object(j.a)(b,2),h=p[0],x=p[1],m=Object(r.useState)(""),f=Object(j.a)(m,2),g=f[0],v=f[1],y=Object(r.useState)(""),w=Object(j.a)(y,2),N=w[0],S=w[1],E=Object(r.useState)(""),_=Object(j.a)(E,2),C=_[0],k=_[1],R=Object(r.useState)(""),A=Object(j.a)(R,2),I=A[0],T=A[1],L=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,c,r,i,a,l,j,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=document.getElementById("terms"),c=document.querySelector(".pseudo.error"),r=document.querySelector(".email.error"),i=document.querySelector(".tel.error"),a=document.querySelector(".password.error"),l=document.querySelector(".password-confirm.error"),j=document.querySelector(".terms.error"),d=function(){tt.b.success("Inscription r\xe9ussite!",{position:"top-right",hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},l.innerHTML="",j.innerHTML="",N===C&&n.checked){e.next=16;break}N!==C&&(l.innerHTML="Les mots de passe ne correspondent pas"),n.checked||(j.innerHTML="Veuillez valider les conditions g\xe9n\xe9rales"),e.next=18;break;case 16:return e.next=18,O()({method:"post",url:"".concat("http://localhost:5000/","api/user/register"),data:{pseudo:h,email:g,tel:I,password:N,role:"client"}}).then((function(e){console.log(e),e.data.errors?(c.innerHTML=e.data.errors.pseudo,r.innerHTML=e.data.errors.email,i.innerHTML=e.data.errors.tel,a.innerHTML=e.data.errors.password):(s(!0),d())})).catch((function(e){return console.log(e)}));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsx)(c.Fragment,{children:n?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Xe,{}),Object(c.jsx)(tt.a,{position:"top-right",hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(c.jsx)("span",{})]}):Object(c.jsx)(B.f,{children:Object(c.jsx)(B.l,{children:Object(c.jsx)(B.e,{md:"12",children:Object(c.jsx)(B.c,{children:Object(c.jsx)(B.d,{children:Object(c.jsxs)("form",{action:"",onSubmit:L,id:"sign-up-form",children:[Object(c.jsx)("p",{className:"h4 text-center py-4",children:"Enregistrement locataire"}),Object(c.jsxs)("div",{className:"grey-text",children:[Object(c.jsx)(B.i,{htmlFor:"pseudo",label:"Pseudo",icon:"user",type:"text",name:"pseudo",id:"pseudo",onChange:function(e){return x(e.target.value)},value:h}),Object(c.jsx)("div",{className:"pseudo error"}),Object(c.jsx)(B.i,{htmlFor:"email",label:"Email",icon:"envelope",type:"text",name:"email",id:"email",onChange:function(e){return v(e.target.value)},value:g}),Object(c.jsx)("div",{className:"email error"}),Object(c.jsx)(B.i,{htmlFor:"tel",label:"T\xe9l\xe9phone",icon:"phone",type:"number",name:"tel",id:"tel",onChange:function(e){return T(e.target.value)},value:I}),Object(c.jsx)("div",{className:"tel error"}),Object(c.jsx)(B.i,{htmlFor:"password",label:"Mot de passe",icon:"lock",type:"password",name:"password",id:"password",onChange:function(e){return S(e.target.value)},value:N}),Object(c.jsx)("div",{className:"password error"}),Object(c.jsx)(B.i,{htmlFor:"password-conf",label:"Confirmation mot de passe",icon:"exclamation-triangle",type:"password",name:"password",id:"password-conf",onChange:function(e){return k(e.target.value)},value:C}),Object(c.jsx)("div",{className:"password-confirm error"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"checkbox",id:"terms",checked:!0}),Object(c.jsxs)("label",{htmlFor:"terms",children:["  "," J'accepte les"," ",Object(c.jsx)("a",{href:"/",target:"_blank",rel:"noopener noreferrer",children:"conditions g\xe9n\xe9rales"})]}),Object(c.jsx)("div",{className:"terms error"})]}),Object(c.jsx)("div",{className:"font-weight-light",children:Object(c.jsx)(et.a,{required:!0,sitekey:"6Le2EYkaAAAAADc5n5rxwdOfQ9NnAEFIbwQJEajb",render:"explicit",verifyCallback:function(e){u(!0)},onloadCallback:function(){console.log("reussi")}})}),Object(c.jsx)("div",{className:"text-center py-4 mt-3",children:d?Object(c.jsx)(B.b,{type:"submit",children:"Valider inscription"}):Object(c.jsx)("div",{})})]})})})})})})})}),ct=function(e){var t=Object(r.useState)(e.signup),n=Object(j.a)(t,2),s=n[0],i=n[1],a=Object(r.useState)(e.signin),o=Object(j.a)(a,2),l=o[0],d=o[1],u=function(e){"register"===e.target.id?(d(!1),i(!0)):"login"===e.target.id&&(i(!1),d(!0))};return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("br",{}),Object(c.jsxs)("div",{style:{color:"#17233e",fontWeight:"bold",cursor:"pointer"},onClick:u,id:"register",className:s?"active":null,children:[Object(c.jsx)("i",{class:"fas fa-arrow-right",style:{color:"#f39200"}})," Nouveau ?"]}),Object(c.jsx)("br",{}),Object(c.jsxs)("div",{style:{color:"#17233e",fontWeight:"bold",cursor:"pointer"},onClick:u,id:"login",className:l?"active":null,children:[Object(c.jsx)("i",{class:"fas fa-arrow-right",style:{color:"#f39200"}})," D\xe9j\xe0 membre ?"]}),s&&Object(c.jsx)(nt,{}),l&&Object(c.jsx)(Xe,{})]})},rt="GET_USER",st="UPLOAD_PICTURE",it="UPDATE_BIO",at="DELETE_USER",ot="GET_USER_ERRORS",lt=function(e){return function(t){return O()({method:"delete",url:"".concat("http://localhost:5000/","api/user/").concat(e)}).then((function(n){t({type:at,payload:e})})).catch((function(e){return console.log(e)}))}},jt=function(){var e=Object(r.useState)(),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(b.b)(),a=Object(b.c)((function(e){return e.userReducer}));return Object(c.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("name",a.pseudo),t.append("userId",a._id),t.append("file",n),i(function(e,t){return function(n){return O.a.post("".concat("http://localhost:5000/","api/user/upload"),e).then((function(e){if(!e.data.errors)return n({type:ot,payload:""}),O.a.get("".concat("http://localhost:5000/","api/user/").concat(t)).then((function(e){n({type:st,payload:e.data.picture})}));n({type:ot,payload:e.data.errors})})).catch((function(e){return console.log(e)}))}}(t,a._id))},className:"upload-pic",children:[Object(c.jsx)("label",{htmlFor:"file",children:"Changer d'image"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"file",id:"file",name:"file",accept:".jpg, .jpeg, .png",onChange:function(e){return s(e.target.files[0])}}),Object(c.jsx)("br",{}),Object(c.jsx)(B.b,{type:"submit",children:"Envoyer"})]})},dt=function(){var e=Object(b.c)((function(e){return e.userReducer})),t=Object(b.c)((function(e){return e.errorReducer.userError}));return Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-1"}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{className:"col-11",style:{paddingTop:"10%"},children:Object(c.jsxs)(B.f,{children:[Object(c.jsx)("bcomplexe",{r:!0}),Object(c.jsx)(B.l,{children:Object(c.jsx)(B.e,{md:"12",children:Object(c.jsx)(B.c,{children:Object(c.jsxs)(B.d,{children:[Object(c.jsxs)("h1",{children:[" Profil de ",e.pseudo]}),Object(c.jsxs)("h3",{children:["(",e.role,")"]}),Object(c.jsxs)("h6",{children:["Compte cr\xe9\xe9 le : ",F(e.createdAt)]}),Object(c.jsxs)("h6",{children:["Pseudo: ",e.pseudo]}),Object(c.jsxs)("h6",{children:["Email: ",e.email]}),Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-12",children:Object(c.jsxs)("div",{className:"left-part",children:[Object(c.jsx)("img",{height:"30%",width:"100%",style:{borderRadius:"30px",border:"2px solid #ff7979"},src:e.picture,alt:"user-pic"}),Object(c.jsx)(jt,{}),Object(c.jsx)("p",{children:t.maxSize}),Object(c.jsx)("p",{children:t.format})]})})})]})})})})]})})]})})},ut=function(){var e=Object(r.useContext)(M),t=Object(r.useState)(!1),n=Object(j.a)(t,2),s=n[0],i=n[1],a=function(){i(!s)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Le,{toggle:a}),Object(c.jsx)(Qe,{isOpen:s,toggle:a}),Object(c.jsx)("div",{className:"container",style:{paddingTop:"60px"},children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-2",children:Object(c.jsx)(be,{})}),Object(c.jsx)("div",{className:"col-10",children:Object(c.jsx)("div",{children:e?Object(c.jsx)(dt,{}):Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-sm",children:Object(c.jsx)(ct,{signin:!0,signup:!1})}),Object(c.jsx)("div",{className:"col-sm",children:Object(c.jsx)("img",{width:"100%",height:"100%",src:"./img/imag_1.svg",alt:"imag_1"})})]})})})})]})})]})},bt=function(){var e=Object(r.useState)(""),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(r.useState)(""),a=Object(j.a)(i,2),o=a[0],l=a[1];return Object(c.jsx)(B.f,{children:Object(c.jsx)(B.l,{children:Object(c.jsx)(B.e,{md:"12",children:Object(c.jsx)(B.c,{children:Object(c.jsx)(B.d,{children:Object(c.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault();var t=document.querySelector(".email.error"),c=document.querySelector(".password.error");O()({method:"post",url:"".concat("http://localhost:5000/","api/user/loginpro"),withCredentials:!0,data:{email:n,password:o}}).then((function(e){console.log(e),e.data.errors?(t.innerHTML=e.data.errors.email,c.innerHTML=e.data.errors.password):window.location="/newpost"})).catch((function(e){console.log(e)}))},id:"sign-up-form",children:[Object(c.jsx)("p",{className:"h4 text-center py-4",children:"Connexion propri\xe9taire"}),Object(c.jsxs)("div",{className:"grey-text",children:[Object(c.jsx)(B.i,{label:"email",icon:"envelope",type:"text",name:"email",id:"email",onChange:function(e){return s(e.target.value)},value:n}),Object(c.jsx)("div",{className:"email error"}),Object(c.jsx)(B.i,{label:"password",icon:"lock",type:"password",name:"password",id:"password",onChange:function(e){return l(e.target.value)},value:o}),Object(c.jsx)("div",{className:"password error"})]}),Object(c.jsx)("div",{className:"text-center py-4 mt-3",children:Object(c.jsx)(B.b,{type:"submit",children:"Se connecter"})})]})})})})})})},pt=function(){var e=Object(r.useState)(!1),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(r.useState)(!1),a=Object(j.a)(i,2),d=a[0],u=a[1],b=Object(r.useState)(""),p=Object(j.a)(b,2),h=p[0],x=p[1],m=Object(r.useState)(""),f=Object(j.a)(m,2),g=f[0],v=f[1],y=Object(r.useState)(""),w=Object(j.a)(y,2),N=w[0],S=w[1],E=Object(r.useState)(""),_=Object(j.a)(E,2),C=_[0],k=_[1],R=Object(r.useState)(""),A=Object(j.a)(R,2),I=A[0],T=A[1],L=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,c,r,i,a,l,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=document.getElementById("terms"),c=document.querySelector(".pseudo.error"),r=document.querySelector(".email.error"),i=document.querySelector(".tel.error"),a=document.querySelector(".password.error"),l=document.querySelector(".password-confirm.error"),j=document.querySelector(".terms.error"),l.innerHTML="",j.innerHTML="",N===C&&n.checked){e.next=15;break}N!==C&&(l.innerHTML="Les mots de passe ne correspondent pas"),n.checked||(j.innerHTML="Veuillez valider les conditions g\xe9n\xe9rales"),e.next=17;break;case 15:return e.next=17,O()({method:"post",url:"".concat("http://localhost:5000/","api/user/register"),data:{pseudo:h,email:g,tel:I,password:N,role:"propri\xe9taire"}}).then((function(e){console.log(e),e.data.errors?(c.innerHTML=e.data.errors.pseudo,r.innerHTML=e.data.errors.email,i.innerHTML=e.data.errors.tel,a.innerHTML=e.data.errors.password):s(!0)})).catch((function(e){return console.log(e)}));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsx)(c.Fragment,{children:n?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("p",{className:"success",style:{color:"green"},children:"Enregistrement r\xe9ussi, veuillez-vous connecter!"}),Object(c.jsx)(bt,{}),Object(c.jsx)("span",{})]}):Object(c.jsx)(B.f,{children:Object(c.jsx)(B.l,{children:Object(c.jsx)(B.e,{md:"12",children:Object(c.jsx)(B.c,{children:Object(c.jsx)(B.d,{children:Object(c.jsxs)("form",{action:"",onSubmit:L,id:"sign-up-form",children:[Object(c.jsx)("p",{className:"h4 text-center py-4",children:"Enregistrement propri\xe9taire"}),Object(c.jsxs)("div",{className:"grey-text",children:[Object(c.jsx)(B.i,{htmlFor:"pseudo",label:"Pseudo",icon:"user",type:"text",name:"pseudo",id:"pseudo",onChange:function(e){return x(e.target.value)},value:h}),Object(c.jsx)("div",{className:"pseudo error"}),Object(c.jsx)(B.i,{htmlFor:"email",label:"Email",icon:"envelope",type:"text",name:"email",id:"email",onChange:function(e){return v(e.target.value)},value:g}),Object(c.jsx)("div",{className:"email error"}),Object(c.jsx)(B.i,{htmlFor:"tel",label:"T\xe9l\xe9phone",icon:"phone",type:"number",name:"tel",id:"tel",onChange:function(e){return T(e.target.value)},value:I}),Object(c.jsx)("div",{className:"tel error"}),Object(c.jsx)(B.i,{htmlFor:"password",label:"Mot de passe",icon:"lock",type:"password",name:"password",id:"password",onChange:function(e){return S(e.target.value)},value:N}),Object(c.jsx)("div",{className:"password error"}),Object(c.jsx)(B.i,{htmlFor:"password-conf",label:"Confirmation mot de passe",icon:"exclamation-triangle",type:"password",name:"password",id:"password-conf",onChange:function(e){return k(e.target.value)},value:C}),Object(c.jsx)("div",{className:"password-confirm error"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"checkbox",id:"terms",checked:!0}),Object(c.jsxs)("label",{htmlFor:"terms",children:["  "," J'accepte les"," ",Object(c.jsx)("a",{href:"/",target:"_blank",rel:"noopener noreferrer",children:"conditions g\xe9n\xe9rales"})]}),Object(c.jsx)("div",{className:"terms error"})]}),Object(c.jsx)("div",{className:"font-weight-light",children:Object(c.jsx)(et.a,{required:!0,sitekey:"6Le2EYkaAAAAADc5n5rxwdOfQ9NnAEFIbwQJEajb",render:"explicit",verifyCallback:function(e){u(!0)},onloadCallback:function(){console.log("reussi")}})}),Object(c.jsx)("div",{className:"text-center py-4 mt-3",children:d?Object(c.jsx)(B.b,{type:"submit",children:"Valider inscription"}):Object(c.jsx)("div",{})})]})})})})})})})},Ot=function(e){var t=Object(r.useState)(e.signup),n=Object(j.a)(t,2),s=n[0],i=n[1],a=Object(r.useState)(e.signin),o=Object(j.a)(a,2),l=o[0],d=o[1],u=function(e){"register"===e.target.id?(d(!1),i(!0)):"login"===e.target.id&&(i(!1),d(!0))};return Object(c.jsxs)("div",{className:"container",style:{paddingTop:"10px"},children:[Object(c.jsx)("br",{}),Object(c.jsxs)("div",{style:{color:"#17233e",fontWeight:"bold",cursor:"pointer"},onClick:u,id:"register",className:s?"active-btn":null,children:[Object(c.jsx)("i",{class:"fas fa-arrow-right",style:{color:"#f39200"}}),"Nouveau propri\xe9taire ?"]}),Object(c.jsx)("br",{}),Object(c.jsxs)("div",{style:{color:"#17233e",fontWeight:"bold",cursor:"pointer"},onClick:u,id:"login",className:l?"active-btn":null,children:[Object(c.jsx)("i",{class:"fas fa-arrow-right",style:{color:"#f39200"}}),"D\xe9j\xe0 propri\xe9taire ?"]}),s&&Object(c.jsx)(pt,{}),l&&Object(c.jsx)(bt,{})]})};function ht(){var e=Object(Oe.a)(["\n    color: #fff;\n    display: flex;\n    align-items: center;\n    padding: 0 1rem;\n    cursor: pointer;\n    text-decoration: none;\n\n    &:hover {\n        transform: translateY(-2px);\n        color: #17233e;\n        font-weight: bold;\n    }\n"]);return ht=function(){return e},e}var xt=he.c.nav.withConfig({displayName:"NavBarPro__Nav",componentId:"sc-1tfp19g-0"})(["height:60px;display:flex;justify-content:space-between;padding:1rem 2rem;z-index:100;position:fixed;width:100%;background-color:#f39200;"]),mt=Object(he.b)(ht()),ft=Object(he.c)(d.b).withConfig({displayName:"NavBarPro__Logo",componentId:"sc-1tfp19g-1"})(["",""],mt),gt=Object(he.c)(ye.a).withConfig({displayName:"NavBarPro__MenuBars",componentId:"sc-1tfp19g-2"})(["display:none;@media screen and (max-width:1007px){display:block;}"]),vt=he.c.div.withConfig({displayName:"NavBarPro__NavMenu",componentId:"sc-1tfp19g-3"})(["display:flex;align-items:center;margin-right:-48px;@media screen and (max-width:1007px){display:none;}"]),yt=Object(he.c)(d.b).withConfig({displayName:"NavBarPro__NavMenuLinks",componentId:"sc-1tfp19g-4"})(["",""],mt),wt=he.c.div.withConfig({displayName:"NavBarPro__NavBtn",componentId:"sc-1tfp19g-5"})(["display:flex;align-items:center;margin-right:24px;@media screen and (max-width:768px){display:none;}"]),Nt=function(e){var t=e.toggle,n=Object(r.useContext)(M),s=Object(b.c)((function(e){return e.userReducer}));return Object(c.jsxs)(xt,{children:[Object(c.jsx)(ft,{children:Object(c.jsx)("h3",{style:{color:"white",fontFamily:"fantasy"},children:"AtypikHouse"})}),n&&Object(c.jsx)(yt,{to:"profil",children:Object(c.jsx)("img",{height:"40",width:"40",style:{borderRadius:"50%"},src:s.picture,alt:"poster-pic"})}),Object(c.jsx)(gt,{onClick:t}),Object(c.jsxs)(vt,{children:[n?fe.map((function(e,t){return Object(c.jsx)(yt,{to:e.link,children:e.title},t)})):xe.map((function(e,t){return Object(c.jsx)(yt,{to:e.link,children:e.title},t)})),n?Object(c.jsx)(Se,{}):Object(c.jsx)("div",{})]}),Object(c.jsx)(wt,{children:Object(c.jsx)(ve,{to:"/homepro",primary:"true",children:"Accueil"})})]})};function St(){var e=Object(Oe.a)(["\n    display: flex;\n    justify-content: center;\n"]);return St=function(){return e},e}function Et(){var e=Object(Oe.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: #fff\n    font-size: 1.5rem;\n    text-decoration: none;\n    list-style: none;\n    color: #fff;\n    cursor: pointer;\n    transition: 0.2s ease-in-out;\n\n    &:hover {\n        color: #17233e;\n        font-weight: bold;\n    }\n"]);return Et=function(){return e},e}function _t(){var e=Object(Oe.a)(["\n    display: grid;\n    grid-template-colunms: 1fr;\n    grid-template-rows: repeat(4, 80px);\n    text-align: center;\n    margin-bottom: 4rem;\n\n    @media screen and (max-width: 480px) {\n        grid-template-rows: repeat(4, 60px);\n    }\n"]);return _t=function(){return e},e}function Ct(){var e=Object(Oe.a)(["\n\n"]);return Ct=function(){return e},e}function kt(){var e=Object(Oe.a)(["\n    color: #000d1a;\n"]);return kt=function(){return e},e}function Rt(){var e=Object(Oe.a)(["\n    position: absolute;\n    top: 1.2rem;\n    right: 1.5rem;\n    background: transparent;\n    font-size: 2rem;\n    cursor: pointer;\n    outline: none;\n"]);return Rt=function(){return e},e}function At(){var e=Object(Oe.a)(["\n    position: fixed;\n    z-index: 999;\n    width: 100%;\n    height: 100%;\n    background: #cd853f;\n    display: grid;\n    align-items: center;\n    top: 0;\n    left: 0;\n    transition: 0.3s ease-in-out;\n    opacity: ",";\n    top: ",";\n"]);return At=function(){return e},e}var It=he.c.div(At(),(function(e){return e.isOpen?"1":"0"}),(function(e){return e.isOpen?"0":"-100%"})),Tt=he.c.div(Rt()),Lt=Object(he.c)(ye.b)(kt()),Ft=he.c.div(Ct()),Ht=he.c.div(_t()),Dt=Object(he.c)(d.b)(Et()),zt=he.c.div(St()),Mt=function(e){var t=e.isOpen,n=e.toggle,s=Object(r.useContext)(M);return Object(c.jsxs)(It,{isOpen:t,onClick:n,children:[Object(c.jsx)(Tt,{onClick:n,children:Object(c.jsx)(Lt,{})}),Object(c.jsxs)(Ft,{children:[Object(c.jsxs)(Ht,{children:[s?fe.map((function(e,t){return Object(c.jsx)(Dt,{to:e.link,children:e.title},t)})):xe.map((function(e,t){return Object(c.jsx)(Dt,{to:e.link,children:e.title},t)})),s?Object(c.jsx)("div",{style:{paddingRight:"40%"},children:Object(c.jsx)(Se,{})}):Object(c.jsx)("div",{})]}),Object(c.jsx)(zt,{children:Object(c.jsx)(ve,{primary:"true",round:"true",to:"/homepro",children:"Accueil"})})]})]})},Pt=function(){var e=Object(r.useContext)(M),t=Object(r.useState)(!1),n=Object(j.a)(t,2),s=n[0],i=n[1],a=function(){i(!s)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Nt,{toggle:a}),Object(c.jsx)(Mt,{isOpen:s,toggle:a}),Object(c.jsx)("div",{className:"container",style:{paddingTop:"60px"},children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-2",children:Object(c.jsx)(be,{})}),Object(c.jsx)("div",{className:"col-10",children:Object(c.jsx)("div",{children:e?Object(c.jsx)(dt,{}):Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-sm",children:Object(c.jsx)(Ot,{signin:!0,signup:!1})}),Object(c.jsx)("div",{className:"col-sm",children:Object(c.jsx)("img",{width:"100%",height:"100%",src:"./img/imag_2.svg",alt:"imag_1"})})]})})})})]})})]})},Ut=function(){var e=Object(r.useState)(""),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(r.useState)(""),a=Object(j.a)(i,2),o=a[0],l=a[1];return Object(c.jsx)(B.f,{children:Object(c.jsx)(B.l,{children:Object(c.jsx)(B.e,{md:"12",children:Object(c.jsx)(B.c,{children:Object(c.jsx)(B.d,{children:Object(c.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault();var t=document.querySelector(".email.error"),c=document.querySelector(".password.error");O()({method:"post",url:"".concat("http://localhost:5000/","api/user/loginadmin"),withCredentials:!0,data:{email:n,password:o}}).then((function(e){console.log(e),e.data.errors?(t.innerHTML=e.data.errors.email,c.innerHTML=e.data.errors.password):window.location="gestion"})).catch((function(e){console.log(e)}))},id:"sign-up-form",children:[Object(c.jsx)("p",{className:"h4 text-center py-4",children:"Connexion administrateur"}),Object(c.jsxs)("div",{className:"grey-text",children:[Object(c.jsx)(B.i,{label:"email",icon:"envelope",type:"text",name:"email",id:"email",onChange:function(e){return s(e.target.value)},value:n}),Object(c.jsx)("div",{className:"email error"}),Object(c.jsx)(B.i,{label:"password",icon:"lock",type:"password",name:"password",id:"password",onChange:function(e){return l(e.target.value)},value:o}),Object(c.jsx)("div",{className:"password error"})]}),Object(c.jsx)("div",{className:"text-center py-4 mt-3",children:Object(c.jsx)(B.b,{type:"submit",children:"Se connecter"})})]})})})})})})},Vt=function(){return Object(c.jsxs)("div",{className:"container",style:{paddingTop:"10px"},children:[Object(c.jsx)("br",{}),Object(c.jsx)(Ut,{})]})},Bt=function(){var e=Object(r.useContext)(M),t=Object(r.useState)(!1),n=Object(j.a)(t,2),s=n[0],i=n[1],a=function(){i(!s)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Le,{toggle:a}),Object(c.jsx)(Qe,{isOpen:s,toggle:a}),Object(c.jsx)("div",{className:"container",style:{paddingTop:"60px"},children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-2",children:Object(c.jsx)(be,{})}),Object(c.jsx)("div",{className:"col-10",children:Object(c.jsx)("div",{children:e?Object(c.jsx)(dt,{}):Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-sm",children:Object(c.jsx)(Vt,{signin:!0,signup:!1})}),Object(c.jsx)("div",{className:"col-sm",children:Object(c.jsx)("img",{width:"100%",height:"100%",src:"./img/imag_3.svg",alt:"imag_1"})})]})})})})]})})]})},qt=function(){var e=Object(b.c)((function(e){return e.bestofReducer})),t=Object(r.useState)(!1),n=Object(j.a)(t,2),s=n[0],i=n[1],a=function(){i(!s)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Le,{toggle:a}),Object(c.jsx)(Qe,{isOpen:s,toggle:a}),Object(c.jsx)("div",{className:"container",style:{paddingTop:"60px"},children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-1"}),Object(c.jsxs)("div",{className:"col-11",children:[Object(c.jsx)("p",{children:"Nos Best of"}),Object(c.jsx)("ul",{children:!z(e[0])&&e.map((function(e){return Object(c.jsx)(je,{post:e},e._id)}))})]})]})})]})},Gt=function(){var e=Object(r.useState)(!0),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(r.useState)(5),a=Object(j.a)(i,2),o=a[0],l=a[1],d=Object(b.b)(),u=Object(b.c)((function(e){return e.postReducer})),p=Object(b.c)((function(e){return e.userReducer})),O=function(){window.innerHeight+document.documentElement.scrollTop+1>document.scrollingElement.scrollHeight&&s(!0)};return Object(r.useEffect)((function(){return n&&(d(k(o)),s(!1),l(o+5)),window.addEventListener("scroll",O),function(){return window.removeEventListener("scroll",O)}}),[n,d,o]),Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("ul",{children:p.likes?!z(u[0])&&u.map((function(e){for(var t=0;t<p.likes.length;t++)if(e._id===p.likes[t])return Object(c.jsx)(je,{post:e},e._id)})):Object(c.jsx)("p",{children:"Votre liste de favoris est vide"})})})},Wt=function(){var e=Object(r.useContext)(M),t=Object(r.useState)(!1),n=Object(j.a)(t,2),s=n[0],i=n[1],a=function(){i(!s)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Le,{toggle:a}),Object(c.jsx)(Qe,{isOpen:s,toggle:a}),Object(c.jsx)("div",{className:"container",style:{paddingTop:"60px"},children:Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-1"}),Object(c.jsxs)("div",{className:"col-11",children:[Object(c.jsx)("p",{children:"Liste de mes favoris"}),Object(c.jsxs)("div",{className:"main",children:[Object(c.jsx)("div",{className:"home-header"}),e&&Object(c.jsx)(Gt,{})]})]})]})})})]})},Jt=[{number:1,name:"AIN",lng:5.2056,lat:46.0558},{number:2,name:"AISNE",lng:"3.3330",lat:46.9334},{number:3,name:"ALLIER",lng:3.1118,lat:46.2337},{number:4,name:"ALPES-DE-HAUTE-PROVENCE",lng:6.1438,lat:44.0622},{number:5,name:"HAUTES-ALPES",lng:6.1547,lat:44.3949},{number:6,name:"ALPES-MARITIMES",lng:7.0659,lat:43.5615},{number:7,name:"ARDECHE",lng:4.2529,lat:44.4506},{number:8,name:"ARDENNES",lng:4.3827,lat:49.3656},{number:9,name:"ARIEGE",lng:1.3014,lat:42.5515},{number:10,name:"AUBE",lng:4.0942,lat:48.1816},{number:11,name:"AUDE",lng:2.2451,lat:43.0612},{number:12,name:"AVEYRON",lng:2.4047,lat:44.1649},{number:13,name:"BOUCHES-DU-RHONE",lng:5.0511,lat:43.3236},{number:14,name:"CALVADOS",lng:.2149,lat:49.0559},{number:15,name:"CANTAL",lng:2.4007,lat:45.0304},{number:16,name:"CHARENTE",lng:.1206,lat:45.4305},{number:17,name:"CHARENTE-MARITIME",lng:.4028,lat:45.4651},{number:18,name:"CHER",lng:2.2928,lat:47.0353},{number:19,name:"CORREZE",lng:1.5237,lat:45.2125},{number:"2A",name:"CORSE-DU-SUD",lng:8.5917,lat:41.5149},{number:"2B",name:"HAUTE-CORSE",lng:9.1223,lat:2.2339},{number:21,name:"COTE-D_OR",lng:4.462,lat:47.2529},{number:22,name:"COTES-D-ARMOR\t",lng:2.5151,lat:48.2628},{number:23,name:"CREUSE",lng:2.0108,lat:46.0525},{number:24,name:"DORDOGNE",lng:.4429,lat:45.0615},{number:25,name:"DOUBS",lng:6.2142,lat:47.0955},{number:26,name:"DROME",lng:5.1005,lat:44.4103},{number:27,name:"EURE",lng:.5946,lat:49.0649},{number:28,name:"EURE-ET-LOIR",lng:1.2213,lat:48.2315},{number:29,name:"FINISTERE",lng:4.0332,lat:48.154},{number:30,name:"GARD",lng:4.1049,lat:43.5936},{number:31,name:"HAUTE-GARONNE",lng:1.1022,lat:43.2131},{number:32,name:"GERS",lng:.2712,lat:43.4134},{number:33,name:"GIRONDE",lng:.3431,lat:44.4931},{number:34,name:"HERAULT",lng:3.2202,lat:43.3447},{number:35,name:"ILLE-ET-VILAINE",lng:1.3819,lat:48.0916},{number:36,name:"INDRE",lng:1.3433,lat:46.464},{number:37,name:"INDRE-ET-LOIRE",lng:.4129,lat:47.1529},{number:38,name:"ISERE",lng:5.3434,lat:45.1548},{number:39,name:"JURA",lng:5.4152,lat:46.4342},{number:40,name:"LANDE",lng:.4702,lat:43.5756},{number:41,name:"LOIR-ET-CHER",lng:1.2546,lat:47.37},{number:42,name:"LOIRE\t",lng:4.0957,lat:45.4337},{number:43,name:"HAUTE-LOIRE",lng:3.4823,lat:45.0741},{number:44,name:"LOIRE-ATLANTIQUE",lng:1.4056,lat:47.2141},{number:45,name:"LOIRET",lng:2.2039,lat:47.5443},{number:46,name:"LOT",lng:1.3617,lat:44.3727},{number:47,name:"LOT-ET-GARONNE",lng:.2737,lat:44.2203},{number:48,name:"LOZERE",lng:3.3001,lat:44.3102},{number:49,name:"MAINE-ET-LOIRE",lng:.3351,lat:47.2327},{number:50,name:"MANCHE",lng:1.1939,lat:49.0446},{number:51,name:"MARNE",lng:4.1419,lat:48.5657},{number:52,name:"HAUTE-MARNE",lng:5.1335,lat:48.0634},{number:53,name:"MAYENNE",lng:.3929,lat:48.0848},{number:54,name:"MEURTHE-ET-MOSELLE",lng:6.0954,lat:48.4713},{number:55,name:"MEUSE",lng:5.2254,lat:48.5922},{number:56,name:"MORBIHAN",lng:2.4836,lat:47.5047},{number:57,name:"MOSELLE",lng:6.3948,lat:49.0214},{number:58,name:"NIEVRE",lng:3.3017,lat:47.0655},{number:59,name:"NORD",lng:3.1314,lat:.265},{number:60,name:"OISE",lng:2.2531,lat:49.2437},{number:61,name:"ORNE",lng:.0744,lat:48.3725},{number:62,name:"PAS-DE-CALAIS",lng:2.1719,lat:50.2937},{number:63,name:"PUY-DE-DOME",lng:3.0827,lat:45.4333},{number:64,name:"PYRENEES-ATLANTIQUES",lng:.4541,lat:43.1524},{number:65,name:"HAUTES-PYRENEES",lng:.095,lat:43.0311},{number:66,name:"PYRENEES-ORIENTALES",lng:2.312,lat:42.36},{number:67,name:"BAS-RHIN",lng:7.3305,lat:48.4015},{number:68,name:"HAUT-RHIN",lng:7.1627,lat:47.5131},{number:69,name:"RHONE",lng:4.3829,lat:45.5213},{number:70,name:"HAUTE-SAONE",lng:6.051,lat:47.3828},{number:71,name:"SAONE-ET-LOIRE",lng:4.3232,lat:46.3841},{number:72,name:"SARTHE",lng:.132,lat:47.594},{number:73,name:"SAVOIE",lng:6.2637,lat:45.2839},{number:74,name:"HAUTE-SAVOIE",lng:6.2541,lat:46.0204},{number:75,name:"PARIS",lng:2.2032,lat:48.5124},{number:76,name:"SEINE-MARITIME",lng:1.0135,lat:49.3918},{number:7,name:"SEINE-ET-MARNE",lng:2.56,lat:48.3736},{number:78,name:"YVELINES",lng:1.503,lat:48.4854},{number:7,name:"DEUX-SEVRES",lng:.1902,lat:46.332},{number:80,name:"SOMME",lng:2.164,lat:49.5729},{number:81,name:"TARN",lng:2.0958,lat:43.4707},{number:82,name:"TARN-ET-GARONNE",lng:1.1655,lat:44.0509},{number:83,name:"VAR",lng:6.1305,lat:43.2738},{number:84,name:"VAUCLUSE",lng:5.111,lat:43.5938},{number:85,name:"VENDEE",lng:1.1752,lat:46.4029},{number:86,name:"VIENNE",lng:.2737,lat:46.335},{number:87,name:"HAUTE-VIENNE",lng:1.1407,lat:45.533},{number:88,name:"VOSGES",lng:6.225,lat:48.1148},{number:89,name:"YONNE",lng:3.3352,lat:47.5023},{number:90,name:"TERRITOIRE DE BELFORT",lng:6.5543,lat:47.3754},{number:91,name:"ESSONNE",lng:2.1435,lat:48.312},{number:92,name:"HAUTS-DE-SEINE",lng:2.1445,lat:48.505},{number:93,name:"SEINE-SAINT-DENIS",lng:2.2841,lat:48.5503},{number:94,name:"VAL-DE-MARNE",lng:2.2808,lat:48.4639},{number:95,name:"VAL-D-OISE",lng:2.0752,lat:49.0458}],Yt=function(){var e,t=Object(r.useState)(!0),n=Object(j.a)(t,2),s=(n[0],n[1]),i=Object(r.useState)(!1),a=Object(j.a)(i,2),d=a[0],u=a[1],p=Object(r.useState)(""),O=Object(j.a)(p,2),h=O[0],x=O[1],m=Object(r.useState)(""),f=Object(j.a)(m,2),g=f[0],v=f[1],y=Object(r.useState)(""),w=Object(j.a)(y,2),N=w[0],S=w[1],E=Object(r.useState)(""),_=Object(j.a)(E,2),C=_[0],A=_[1],I=Object(r.useState)(""),T=Object(j.a)(I,2),L=T[0],F=T[1],H=Object(r.useState)(""),D=Object(j.a)(H,2),M=D[0],P=D[1],U=Object(r.useState)(""),V=Object(j.a)(U,2),q=V[0],G=V[1],W=Object(r.useState)(""),J=Object(j.a)(W,2),Y=J[0],Q=J[1],K=Object(r.useState)(""),Z=Object(j.a)(K,2),X=Z[0],$=Z[1],ee=Object(r.useState)(""),te=Object(j.a)(ee,2),ne=te[0],ce=te[1],re=Object(r.useState)(""),se=Object(j.a)(re,2),ie=se[0],ae=se[1],oe=Object(r.useState)(""),le=Object(j.a)(oe,2),je=le[0],de=le[1],ue=Object(r.useState)(""),be=Object(j.a)(ue,2),pe=be[0],Oe=be[1],he=Object(r.useState)([]),xe=Object(j.a)(he,2),me=xe[0],fe=xe[1],ge=Object(b.c)((function(e){return e.userReducer})),ve=Object(b.c)((function(e){return e.errorReducer.postError})),ye=Object(b.b)(),we=Object(r.useState)([]),Ne=Object(j.a)(we,2),Se=Ne[0],Ee=Ne[1],_e=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(h||je||pe)){e.next=26;break}return(n=new FormData).append("posterId",ge._id),n.append("message",h),n.append("titre",g),n.append("superficie",N),n.append("prix",C),n.append("date_open",L),n.append("date_close",M),n.append("departement",q),n.append("lng",Y),n.append("lat",X),n.append("type",ne),n.append("status","ajout_images"),n.append("clientId",null),n.append("nbr_personne",ie),me&&n.append("file",me),n.append("video",pe),e.next=21,ye(R(n));case 21:ye(k()),Ce(),u(!0),e.next=27;break;case 26:alert("Veuillez entrer toutes les informations ");case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){x(""),v(""),S(""),A(""),F(""),P(""),G(""),$(""),Q(""),ce(""),de(""),Oe(""),fe(""),Ee("")};return Object(r.useEffect)((function(){z(ge)||s(!1);!function(){for(var e=h.split(" "),t=0;t<e.length;t++)if(e[t].includes("https://www.yout")||e[t].includes("https://yout")){var n=e[t].replace("watch?v=","embed/");Oe(n.split("&")[0]),e.splice(t,1),x(e.join(" ")),de("")}}()}),[ge,h,pe]),Object(c.jsx)(c.Fragment,{children:d?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("h4",{className:"success",style:{textAlign:"center",paddingTop:"15%"},children:['Votre publication a bien \xe9t\xe9 enregistr\xe9e, rendez-vous dans la rubrique "Mes offres" pour ajouter 4 autres images.',Object(c.jsx)("br",{})," Ce nombre d'image est requis suite a une exp\xe9rience des locataires.",Object(c.jsx)("br",{}),"Apr\xe8s cette \xe9tape, votre publication devra \xeatre valider par notre \xe9quipe, pour figurer sur liste des offres."]}),Object(c.jsx)("div",{class:"success-animation",children:Object(c.jsxs)("svg",{class:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[Object(c.jsx)("circle",{class:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),Object(c.jsx)("path",{class:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]})}),Object(c.jsx)("span",{})]}):Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(B.f,{children:Object(c.jsx)(B.l,{children:Object(c.jsxs)(B.e,{md:"12",children:[Object(c.jsx)(B.c,{children:Object(c.jsxs)(B.d,{children:[Object(c.jsx)("p",{style:{backgroundColor:"#ff9f1a"},children:"D\xe9poser votre annonce"}),Object(c.jsxs)("form",{action:"",enctype:"multipart/form-data",children:[Object(c.jsxs)("div",{className:"grey-text",children:[Object(c.jsx)(B.i,{required:!0,label:"titre",type:"text",name:"titre",id:"titre",onChange:function(e){return v(e.target.value)},value:g}),Object(c.jsx)("br",{}),Object(c.jsxs)("select",{name:"type",id:"type",onChange:function(e){return ce(e.target.value)},value:ne,class:"browser-default custom-select",children:[Object(c.jsx)("option",{value:"",children:"----- Type -----"}),Object(c.jsx)("option",{value:"cabane dans les arbres",children:"cabane dans les arbres"}),Object(c.jsx)("option",{value:"cabane flottante",children:"cabane flottante"}),Object(c.jsx)("option",{value:"yourte",children:"yourte"}),Object(c.jsx)("option",{value:"yourte",children:"Autre"})]}),Object(c.jsx)(B.i,{label:"superficie (m\xb2)",type:"number",name:"superficie",id:"superficie",onChange:function(e){return S(e.target.value)},value:N}),Object(c.jsx)("br",{}),Object(c.jsxs)("select",{name:"departement",id:"departement",onChange:function(e){return G(e.target.value)},value:q,class:"browser-default custom-select",children:[Object(c.jsx)("option",{value:"",children:"--- D\xe9partement ---"}),Jt.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:void 0})).map((function(e,t){return Object(c.jsx)("option",{value:e.name,children:e.name},t)}))]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-6",children:Object(c.jsx)(B.i,{label:"Longitude",type:"number",name:"lng",id:"lng",onChange:function(e){return Q(e.target.value)},value:Y})}),Object(c.jsx)("div",{className:"col-6",children:Object(c.jsx)(B.i,{label:"Latitude",type:"number",name:"lat",id:"lat",onChange:function(e){return $(e.target.value)},value:X})})]}),Object(c.jsx)(B.i,{label:"prix (\u20ac) /nuit",type:"number",name:"prix",id:"prix",onChange:function(e){return A(e.target.value)},value:C}),Object(c.jsx)(B.i,{required:!0,label:"nombre de personne",type:"number",name:"nbr_personne",id:"nbr_personne",onChange:function(e){return ae(e.target.value)},value:ie}),Object(c.jsx)(B.i,{required:!0,label:"Date d\xe9but de disponibilit\xe9",type:"date",name:"date_open",id:"date_open",onChange:function(e){return F(e.target.value)},value:L}),Object(c.jsx)(B.i,{required:!0,label:"Date fin de disponibilit\xe9",type:"date",name:"date_close",id:"date_close",onChange:function(e){return P(e.target.value)},value:M}),Object(c.jsx)("textarea",{class:"form-control rounded-0",id:"exampleFormControlTextarea2",rows:"3",name:"message",placeholder:"D\xe9crivez votre offre...",onChange:function(e){return x(e.target.value)},value:h})]}),Object(c.jsxs)("div",{className:"footer-form",children:[Object(c.jsxs)("div",{className:"icon",children:[z(pe)&&Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("input",{required:!0,type:"file",id:"file",name:"file",accept:".jpg, .jpeg, .png",onChange:function(e){if(e.target.files){var t=Array.from(e.target.files).map((function(e){return URL.createObjectURL(e)}));Ee((function(e){return e.concat(t)})),fe(e.target.files[0])}}})}),pe&&Object(c.jsx)(B.b,{onClick:function(){return Oe("")},children:"Supprimer video"})]}),!z(ve.format)&&Object(c.jsx)("p",{children:ve.format}),!z(ve.maxSize)&&Object(c.jsx)("p",{children:ve.maxSize}),Object(c.jsxs)("div",{className:"btn-send",children:[h||Se||pe.length>20?Object(c.jsx)(B.b,{className:"cancel",onClick:Ce,children:"Annuler la plublication"}):null,Object(c.jsx)(B.b,{type:"submit",onClick:_e,children:"Envoyer"})]})]})]})]})}),Object(c.jsx)(B.c,{children:Object(c.jsxs)(B.d,{children:[Object(c.jsx)("p",{style:{backgroundColor:"#ff9f1a"},children:"Aper\xe7u des images"}),h||Se||pe.length>20?Object(c.jsx)("div",{className:"right",children:Object(c.jsxs)("div",{className:"content",children:[Object(c.jsx)("div",{className:"row",children:(e=Se,e.map((function(e){return Object(c.jsx)("img",{height:"200px",width:"50%",src:e,alt:""},e)})))}),pe&&Object(c.jsx)("iframe",{src:pe,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:pe})]})}):null]})})]})})})})})},Qt=function(){var e=Object(r.useState)(!1),t=Object(j.a)(e,2),n=t[0],s=t[1],i=function(){s(!n)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Nt,{toggle:i}),Object(c.jsx)(Mt,{isOpen:n,toggle:i}),Object(c.jsx)("div",{className:"container",style:{paddingTop:"60px"},children:Object(c.jsx)(Yt,{})})]})},Kt=n(235),Zt=n.n(Kt),Xt=n(236),$t=n.n(Xt),en=(n(304),n(75)),tn=n(238);n.n(tn).a.setApiKey("AIzaSyAtAsOVenmjEzpg_JiXjMglbFjEt3rPLr0");var nn=function(e){var t,n,r,s,i=e.post;Jt.map((function(e,a){if(e.name===i.departement)return i.lng&&i.lat?Object(c.jsxs)("div",{children:[n=i.lat,t=i.lng,r=i.titre,s=16]},a):Object(c.jsxs)("div",{children:[n=e.lat,t=e.lng,r=i.departement,s=6]},a)}));var a=Object(en.withScriptjs)(Object(en.withGoogleMap)((function(e){return Object(c.jsx)(en.GoogleMap,{defaultZoom:s,defaultCenter:{lat:n,lng:t},children:Object(c.jsx)(en.Marker,{position:{lat:n,lng:t},children:Object(c.jsx)(en.InfoWindow,{children:Object(c.jsx)("div",{children:r})})})})})));return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h5",{children:"Google Map"}),Object(c.jsx)(a,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyAtAsOVenmjEzpg_JiXjMglbFjEt3rPLr0&v=3.exp&libraries=geometry,drawing,places",loadingElement:Object(c.jsx)("div",{style:{height:"100%"}}),containerElement:Object(c.jsx)("div",{style:{height:"400px"}}),mapElement:Object(c.jsx)("div",{style:{height:"100%"}})}),i.lng&&i.lat&&Object(c.jsxs)("div",{children:[Object(c.jsx)("br",{}),"Latitude : ",n," ",Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),"Longitude : ",t]})]})},cn=function(e){var t=e.post,n=Object(b.c)((function(e){return e.usersReducer})),s=Object(b.c)((function(e){return e.userReducer})),i=Object(r.useState)(!0),a=Object(j.a)(i,2),o=(a[0],a[1]),l=Object(b.b)(),d=Object(r.useState)(""),u=Object(j.a)(d,2),p=u[0],h=u[1],x=Object(r.useState)(""),m=Object(j.a)(x,2),f=m[0],g=m[1],v=Object(r.useState)(!1),y=Object(j.a)(v,2),N=y[0],S=y[1],E=Object(r.useState)(""),_=Object(j.a)(E,2),C=_[0];_[1];Object(r.useEffect)((function(){!z(n[0])&&o(!1)}),[n]);var R=[{original:"".concat(t.picture[0]),thumbnail:"".concat(t.picture[0])},{original:"".concat(t.picture[1]),thumbnail:"".concat(t.picture[1])},{original:"".concat(t.picture[2]),thumbnail:"".concat(t.picture[2])},{original:"".concat(t.picture[3]),thumbnail:"".concat(t.picture[3])},{original:"".concat(t.picture[4]),thumbnail:"".concat(t.picture[4])}],A=function(e){var n={token:e,post:t};return fetch("".concat("http://localhost:5000/","api/user/payment"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){e.status;t.reservations.map((function(e){var n,c,r,i;e.reservationId===s._id&&(l(function(e,t,n){return function(c){return O()({method:"patch",url:"".concat("http://localhost:5000/","api/post/edit-reservation/").concat(e),data:{reservationId:t,paiement:n}}).then((function(r){c({type:w,payload:{postId:e,reservationId:t,paiement:n}})})).catch((function(e){return console.log(e)}))}}(t._id,e._id,t.prix)),l((n=s.email,c=s.pseudo,r=t.prix,i=t.titre,function(e){return O()({method:"post",url:"".concat("http://localhost:5000/","api/post/send-justificatif"),data:{email:n,pseudo:c,prix:r,titre:i}}).then((function(t){e({type:"SEND_JUSTIFICATIF",payload:{email:n,pseudo:c,prix:r,titre:i}})})).catch((function(e){return console.log(e)}))})))}))})).catch((function(e){return console.log(e)}))},F=function(e){e.preventDefault(),t.reservations.map((function(e){e.reservationId===s._id&&(l(T(t._id,e._id)),S(!1),l(I(t._id,t.message,"non_reserv\xe9",s._id)))})),window.location.reload(!1)};return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-1",style:{float:"right"},children:Object(c.jsx)(be,{})}),Object(c.jsx)("div",{className:"col-11",children:Object(c.jsx)("div",{style:{textAlign:"left"},children:Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col-12",children:[Object(c.jsx)("h3",{children:t.titre}),Object(c.jsxs)("h4",{children:[t.prix," \u20ac la nuit\xe9"]}),Object(c.jsxs)("ul",{children:[t.video&&Object(c.jsx)("iframe",{width:"100%",height:"400",src:t.video,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:t._id}),Object(c.jsx)("br",{}),Object(c.jsx)($t.a,{items:R}),Object(c.jsxs)("span",{children:["Type : ",t.type," ",Object(c.jsx)("br",{})," D\xe9partement : ",t.departement," ",Object(c.jsx)("br",{})," Pour ",t.nbr_personne," personne",t.nbr_personne>1?"s":""]}),Object(c.jsx)("h5",{children:t.price}),Object(c.jsxs)("span",{style:{fontSize:"12px"},children:["Disponible du ",H(t.date_open)," au ",H(t.date_close)]}),Object(c.jsx)("hr",{}),Object(c.jsx)("h4",{style:{fontWeight:"bolder"},children:"Dates de r\xe9servation"}),z(t.reservations[0])&&Object(c.jsx)("form",{action:"",onSubmit:function(e){e.preventDefault(),""!==p&&""!==f?p>=t.date_open&&f<=t.date_close?p>f||p===f?alert("Vos dates sont incorrectes "):(l(function(e,t,n,c,r,s){return function(i){return O()({method:"patch",url:"".concat("http://localhost:5000/","api/post/reserve-habitat/").concat(e),data:{reservationId:t,personPseudo:n,paiement:c,date_open:r,date_close:s}}).then((function(t){i({type:"ADD_RESERVATION",payload:{postId:e}})})).catch((function(e){return console.log(e)}))}}(t._id,s._id,s.pseudo,C,p,f)).then((function(){return l(k())})).then((function(){return h("")})).then((function(){return g("")})),S(!0),tt.b.success("Dates de reservation enregistr\xe9 avec succ\xe8s!",{position:"top-right",hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})):alert("Veuillez entrer des dates valides "):alert("Veuillez entrer deux dates ")},children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-4",children:Object(c.jsx)(B.i,{label:"A partir",type:"date",name:"date_open",id:"date_open",onChange:function(e){return h(e.target.value)},value:p})}),Object(c.jsx)("div",{className:"col-4",children:Object(c.jsx)(B.i,{label:"Jusqu'au",type:"date",name:"date_close",id:"date_close",onChange:function(e){return g(e.target.value)},value:f})}),Object(c.jsx)("div",{className:"col-4",children:Object(c.jsx)(B.b,{type:"submit",children:"Valider"})})]})}),t.reservations.map((function(e){if(e.reservationId===s._id)return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("p",{children:["Reservation du ",H(e.date_open)," au ",H(e.date_close)," ",Object(c.jsx)("img",{src:"./img/check.png",alt:""})]}),Object(c.jsx)(B.b,{onClick:F,children:"Annuler"}),Object(c.jsx)("p",{style:{color:"#cc3300",fontSize:"11px"},children:"En cas d'annulation apr\xe8s paiement, la somme per\xe7ue vous sera rembours\xe9e dans un delais de 5 jours'"})]})})),Object(c.jsx)("hr",{}),Object(c.jsx)("h5",{children:"D\xe9tails"}),Object(c.jsx)("p",{children:t.message}),Object(c.jsx)("hr",{}),Object(c.jsx)(nn,{post:t},t._id)]}),Object(c.jsx)("hr",{}),Object(c.jsx)("h5",{children:" Les informations du propri\xe9taire"}),Object(c.jsx)("div",{children:!z(n[0])&&n.map((function(e){if(t.posterId===e._id)return Object(c.jsxs)("div",{children:[Object(c.jsx)("br",{}),"* Pseudo",Object(c.jsxs)("h3",{children:[" ",e.pseudo]}),"* Email",Object(c.jsxs)("h5",{children:[" ",e.email]}),"* Num\xe9ro de tel",Object(c.jsxs)("h5",{children:[" ",e.tel]})]})}))}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),"non_reserv\xe9"===t.status&&N&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(B.b,{type:"button",onClick:function(e){e.preventDefault(),tt.b.success("R\xe9servation r\xe9usiite!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),l(I(t._id,t.message,"attente",s._id)),!z(n[0])&&n.map((function(e){t.posterId===e._id&&l(L(e.email,e.pseudo,le[1].subject,le[1].text))})),window.location.reload(!1)},children:"Confirmer reservation"}),Object(c.jsx)(tt.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]}),("non_reserv\xe9"===t.status||"refus\xe9"===t.status)&&!N&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(B.b,{type:"button",onClick:function(){tt.b.info("Veuillez saisir les dates de reservation",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},children:"Confirmer reservation"}),Object(c.jsx)(tt.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(c.jsx)(tt.a,{})]}),"attente"===t.status&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(B.b,{type:"button",onClick:function(){tt.b.warn("Demande d\xe9j\xe0 \xe9t\xe9 prise en compte, en attente de validation",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},children:"Confirmer reservation"}),Object(c.jsx)(tt.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(c.jsx)(tt.a,{}),Object(c.jsx)("br",{}),t.reservations.map((function(e){return null===e.paiement?Object(c.jsx)(Zt.a,{stripeKey:"pk_test_51IQafJDRHvU06AUoTyjd7f3g4TuEJI2wfvRwZxHKSuHQvfZE8J5Dy9GAgeNcH5oZoK6HDa1cYUFyaLKwis59tvRd00ZAf60pn1",token:A,name:"By Merith",amount:100*t.prix,children:Object(c.jsxs)("button",{className:"btn-large",style:{backgroundColor:"#17233e",borderRadius:"15px"},children:["Payer ",t.prix," \u20ac"]})}):Object(c.jsxs)("p",{style:{fontWeight:"bold",color:"green"},children:["Paiement effectu\xe9, un justificatif vous a \xe9t\xe9 envoy\xe9 dans votre boite mail ",Object(c.jsx)("img",{src:"./img/check.png",alt:""})]})}))]}),"non_reserv\xe9"===t.status&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("br",{}),Object(c.jsxs)("button",{className:"btn-large",style:{backgroundColor:"#17233e",borderRadius:"15px"},onClick:function(){tt.b.error("Veuillez confirmer la reservation avant d'effectuer le paiement!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},children:["Payer ",t.prix," \u20ac"]}),Object(c.jsx)(tt.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})]})})})})})]})})},rn=function(e){var t=Object(b.c)((function(e){return e.postReducer})),n=Object(r.useState)(!1),s=Object(j.a)(n,2),i=s[0],a=s[1],o=function(){a(!i)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Le,{toggle:o}),Object(c.jsx)(Qe,{isOpen:i,toggle:o}),Object(c.jsx)("div",{className:"container",style:{paddingTop:"60px"},children:!z(t[0])&&t.map((function(t,n){if("?id=".concat(t._id)===e.location.search)return Object(c.jsx)(cn,{post:t},t._id)}))})]})},sn=function(){var e=Object(r.useState)(!0),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(r.useState)(5),a=Object(j.a)(i,2),o=a[0],l=a[1],d=Object(b.b)(),u=Object(b.c)((function(e){return e.postReducer})),p=Object(b.c)((function(e){return e.userReducer})),O=function(){window.innerHeight+document.documentElement.scrollTop+1>document.scrollingElement.scrollHeight&&s(!0)};return Object(r.useEffect)((function(){return n&&(d(k(o)),s(!1),l(o+5)),window.addEventListener("scroll",O),function(){return window.removeEventListener("scroll",O)}}),[n,d,o]),Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("ul",{children:!z(u[0])&&u.map((function(e){if(e.posterId===p._id&&"validation"!==e.status)return Object(c.jsx)(je,{post:e},e._id)}))})})},an=function(){var e=Object(r.useState)(!1),t=Object(j.a)(e,2),n=t[0],s=t[1],i=function(){s(!n)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Nt,{toggle:i}),Object(c.jsx)(Mt,{isOpen:n,toggle:i}),Object(c.jsx)("div",{className:"container",style:{paddingTop:"60px"},children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-1"}),Object(c.jsxs)("div",{className:"col-10",children:[Object(c.jsx)("br",{}),Object(c.jsx)("h1",{children:"Mes posts"}),Object(c.jsx)(sn,{})]}),Object(c.jsx)("div",{className:"col-1"})]})})]})},on=n(13),ln="GET_PARAM_ERRORS",jn="GET_PARAM",dn="DELETE_PARAM",un="UPDATE_PARAM",bn="UPLOAD_PICTURE",pn=function(e){return function(t){return O.a.post("".concat("http://localhost:5000/","api/param"),e).then((function(e){e.data.errors?t({type:ln,payload:e.data.errors}):t({type:ln,payload:""})}))}},On="GET_SECTION_ERRORS",hn="GET_SECTION",xn="DELETE_SECTION",mn="UPDATE_SECTION",fn="UPLOAD_PICTURE",gn=function(e){return function(t){return O.a.post("".concat("http://localhost:5000/","api/section"),e).then((function(e){e.data.errors?t({type:On,payload:e.data.errors}):t({type:On,payload:""})}))}},vn=function(){var e=Object(r.useContext)(M);return Object(c.jsx)("div",{className:"left-nav-container",children:Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("br",{}),e?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(d.c,{to:"/gestion",exact:!0,children:"PRESENTATION"}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)(d.c,{to:"/gestion_pro",exact:!0,children:"PROPRIETAIRES"}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)(d.c,{to:"/parametres",exact:!0,children:"PARAMETRES"}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)(d.c,{to:"/pub_attente",exact:!0,children:"VALIDATION"}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)(d.c,{to:"/gestion_pubs",exact:!0,children:"HABITATS"}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)(d.c,{to:"/gestion_clients",exact:!0,children:"CLIENTS"}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)(d.c,{to:"",children:Object(c.jsx)(Se,{})})]}):""]})})})},yn=n(239),wn=n(147);function Nn(){var e=Object(Oe.a)(["\n    width: 50px;\n    height: 50px;\n    color: #fff;\n    cursor : pointer;\n    background: #17233e;\n    border-radius: 50px;\n    padding: 10px;\n    margin-right: 1rem;\n    user-select: none;\n    transition: 0.3s;\n\n    &:hover {\n        background: #f39200;\n        transform: scale(1.05);\n    }\n"]);return Nn=function(){return e},e}var Sn=he.c.section.withConfig({displayName:"Hero__HeroSection",componentId:"dy17xw-0"})(["height:100vh;max-height:1100px;position:relative;overflow:hidden;"]),En=he.c.div.withConfig({displayName:"Hero__HeroWrapper",componentId:"dy17xw-1"})(["width:100%;height:100%;display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative;"]),_n=he.c.div.withConfig({displayName:"Hero__HeroSlide",componentId:"dy17xw-2"})(["z-index:1;width:100%;height:100%;"]),Cn=he.c.div.withConfig({displayName:"Hero__HeroSlider",componentId:"dy17xw-3"})(["position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;&::before{content:'';position:absolute;z-index:2;width:100%;height:100vh;bottom:0vh;left:0;overflow:hidden;opacity:0.4;background:linear-gradient( 0deg,rgba(0,0,0,0.2) 0%,rgba(0,0,0,0.2) 50%,rgba(0,0,0,0.6) 100%)};"]),kn=he.c.img.withConfig({displayName:"Hero__HeroImage",componentId:"dy17xw-4"})(["position:absolute;top:0;left:0;width:100vw;height:100vh;object-fit:cover;"]),Rn=he.c.div.withConfig({displayName:"Hero__HeroContent",componentId:"dy17xw-5"})(["position:relative;z-index:10;display:flex;flex-direction:column;max-width:1600px;width:calc(100% - 100px);color:#fff;h1{font-size:clamp(1rem,8vw,2rem);font-weight:bolder;text-shadow:0px 0px 20px rgba(0,0,0,0.2);text-align:left;margin-bottom:0.8rem;color:#fff;}p{margin-bottom:1.2rem;text-shadow:0px 0px 20px rgba(0,0,0,0.4);}"]),An=Object(he.c)(yn.a).withConfig({displayName:"Hero__Arrow",componentId:"dy17xw-6"})(["margin-left:0.5rem;"]),In=he.c.div.withConfig({displayName:"Hero__SliderButtons",componentId:"dy17xw-7"})(["position absolute;bottom:50px;right:50px;display:flex;z-index:10;"]),Tn=Object(he.b)(Nn()),Ln=Object(he.c)(wn.a).withConfig({displayName:"Hero__PrevArrow",componentId:"dy17xw-8"})(["",""],Tn),Fn=Object(he.c)(wn.b).withConfig({displayName:"Hero__NextArrow",componentId:"dy17xw-9"})(["",""],Tn),Hn=Object(he.c)(ve).withConfig({displayName:"Hero___StyledButton",componentId:"dy17xw-10"})(["max-width:160px;"]),Dn=function(){var e=Object(r.useState)(0),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(r.useRef)(null),a=Object(b.c)((function(e){return e.paramReducer})),o=a.length;return!Array.isArray(a)||a.length<=0?null:Object(c.jsx)(Sn,{children:Object(c.jsxs)(En,{children:[a.map((function(e,t){return Object(c.jsx)(_n,{children:t===n&&Object(c.jsxs)(Cn,{children:[Object(c.jsx)(kn,{src:e.picture,alt:"house"}),Object(c.jsxs)(Rn,{children:[Object(c.jsx)("h1",{children:e.titre}),Object(c.jsxs)("p",{children:[e.prix,"\u20ac / ",e.temps]}),Object(c.jsxs)(Hn,{to:"/home",primary:"true",children:["Accueil",Object(c.jsx)(An,{})]})]})]})},t)})),Object(c.jsxs)(In,{children:[Object(c.jsx)(Ln,{onClick:function(){i.current&&clearTimeout(i.current),s(0===n?o-1:n-1)}}),Object(c.jsx)(Fn,{onClick:function(){i.current&&clearTimeout(i.current),s(n===o-1?0:n+1)}})]})]})})};function zn(){var e=Object(Oe.a)(["\n    padding: 1rem 2rem;\n    order: ",";\n\n    display:flex;\n    justify-content: center;\n    align-items: center;\n\n    @media screen and (max-width: 768px) {\n        order: ",";\n    }\n\n    img {\n        width: 100%;\n        height: 100%;\n        object-fit: cover;\n\n        @media screen and (max-width: 768px) {\n            width: 90%;\n            height: 90%;\n        }\n    }\n    "]);return zn=function(){return e},e}function Mn(){var e=Object(Oe.a)(["\n    display:flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: flex-start;\n    line-height: 1.4;\n    padding: 1rem 2rem;\n    order: ",";\n\n    h1 {\n        margin-bottom: 1rem;\n        font-size: clamp(1.5rem, 6vw, 2rem);\n    }\n\n    p {\n        margin-bottom: 2rem;\n    }\n    "]);return Mn=function(){return e},e}function Pn(){var e=Object(Oe.a)(["\n    padding: 3rem calc((100vw - 1300px) /2);\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-template-rows: 800px\n\n    @media screen and (max-width: 768px) {\n        grid-template-columns: 1fr;\n    }\n    "]);return Pn=function(){return e},e}function Un(){var e=Object(Oe.a)(["\n    width: 100%;\n    height: 100%;\n    "]);return Un=function(){return e},e}var Vn=function(){var e=Object(b.c)((function(e){return e.sectionReducer})),t=he.c.section(Un()),n=he.c.div(Pn()),r=he.c.div(Mn(),(function(e){return e.reverse?"1":"2"})),s=he.c.div(zn(),(function(e){return e.reverse?"1":"2"}),(function(e){return e.reverse?"2":"1"}));return!Array.isArray(e)||e.length<=0?null:Object(c.jsx)(t,{children:e.map((function(e,t){return!0===e.reverse?Object(c.jsxs)(n,{children:[Object(c.jsxs)(r,{children:[Object(c.jsx)("h1",{children:e.titre},t),Object(c.jsx)("p",{children:e.paragraph},t)]}),Object(c.jsx)(s,{reverse:!0,children:Object(c.jsx)("img",{src:e.picture,alt:"home"},t)})]}):!1===e.reverse?Object(c.jsxs)(n,{children:[Object(c.jsxs)(r,{children:[Object(c.jsx)("h1",{children:e.titre},t),Object(c.jsx)("p",{children:e.paragraph},t),Object(c.jsx)(ve,{to:"/home",children:"Accueil"})]}),Object(c.jsx)(s,{children:Object(c.jsx)("img",{src:e.picture,alt:"home"},t)})]}):void 0}))})},Bn=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.userReducer})),n=Object(r.useState)(""),s=Object(j.a)(n,2),i=s[0],a=s[1],d=Object(r.useState)(""),u=Object(j.a)(d,2),p=u[0],O=u[1],h=Object(r.useState)(""),x=Object(j.a)(h,2),m=x[0],f=x[1],g=Object(r.useState)(""),v=Object(j.a)(g,2),y=v[0],w=v[1],N=Object(r.useState)([]),S=Object(j.a)(N,2),E=S[0],_=S[1],C=function(){var n=Object(l.a)(o.a.mark((function n(c){var r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(r=new FormData).append("paramId",t._id),r.append("titre",p),r.append("prix",m),r.append("temps",y),i&&r.append("file",i),n.next=8,e(pn(r));case 8:console.log(m);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(c.jsx)(B.f,{children:Object(c.jsx)(B.l,{children:Object(c.jsx)(B.e,{md:"12",children:Object(c.jsx)(B.c,{children:Object(c.jsx)(B.d,{children:Object(c.jsxs)("form",{action:"",enctype:"multipart/form-data",children:[Object(c.jsxs)("div",{className:"grey-text",children:[Object(c.jsx)(B.i,{required:!0,label:"titre",type:"text",name:"titre",id:"titre",onChange:function(e){return O(e.target.value)},value:p}),Object(c.jsx)("br",{}),Object(c.jsx)(B.i,{required:!0,label:"prix",type:"number",name:"prix",id:"prix",onChange:function(e){return f(e.target.value)},value:m}),Object(c.jsx)("br",{}),Object(c.jsxs)("select",{name:"temps",id:"temps",onChange:function(e){return w(e.target.value)},value:y,class:"browser-default custom-select",required:!0,children:[Object(c.jsx)("option",{value:"",children:"----- Type -----"}),Object(c.jsx)("option",{value:"Nuit",children:"Nuit"}),Object(c.jsx)("option",{value:"Jour",children:"Jour"}),Object(c.jsx)("option",{value:"Semaine",children:"Semaine"}),Object(c.jsx)("option",{value:"Mois",children:"Mois"})]}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{for:"file",children:"Ajouter une image"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{required:!0,style:{width:"140px"},type:"file",id:"file",name:"file",accept:".jpg, .jpeg, .png",onChange:function(e){_(URL.createObjectURL(e.target.files[0])),a(e.target.files[0])}})]}),Object(c.jsx)("div",{className:"row",children:""!==E&&Object(c.jsx)("img",{height:"300px",width:"100%",src:E,alt:""})}),Object(c.jsx)("div",{className:"footer-form",children:Object(c.jsxs)("div",{className:"btn-send",children:[p&&m&&y&&i&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(B.b,{type:"submit",onClick:function(){O(""),f(""),w(""),a(""),_("")},children:"Annuler"}),Object(c.jsx)(B.b,{type:"submit",onClick:C,children:"Envoyer"})]}),!(p&&m&&y&&i)&&Object(c.jsx)("div",{children:"Veuillez remplir toutes les informations!"})]})})]})})})})})})},qn=n(42),Gn=n(522),Wn=function(){var e,t=Object(b.b)(),n=Object(b.c)((function(e){return e.userReducer})),s=Object(r.useState)(""),i=Object(j.a)(s,2),a=i[0],d=i[1],u=Object(r.useState)(""),p=Object(j.a)(u,2),O=p[0],h=p[1],x=Object(r.useState)(""),m=Object(j.a)(x,2),f=m[0],g=m[1],v=Object(r.useState)([]),y=Object(j.a)(v,2),w=y[0],N=y[1],S=Object(r.useState)(!1),E=Object(j.a)(S,2),_=E[0],C=E[1],k=function(){var e=Object(l.a)(o.a.mark((function e(){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new FormData).append("sectionId",n._id),c.append("titre",O),c.append("paragraph",f),c.append("reverse",_),a&&c.append("file",a),e.next=8,t(gn(c));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)(B.f,{children:Object(c.jsx)(B.l,{children:Object(c.jsx)(B.e,{md:"12",children:Object(c.jsx)(B.c,{children:Object(c.jsx)(B.d,{children:Object(c.jsxs)("form",{action:"",enctype:"multipart/form-data",children:[Object(c.jsxs)("div",{className:"grey-text",children:[Object(c.jsx)(B.i,{required:!0,label:"titre",type:"text",name:"titre",id:"titre",onChange:function(e){return h(e.target.value)},value:O}),Object(c.jsx)("br",{}),Object(c.jsx)("textarea",(e={class:"form-control rounded-0",id:"exampleFormControlTextarea2",rows:"3",name:"paragraph"},Object(qn.a)(e,"id","paragraph"),Object(qn.a)(e,"placeholder","Texte..."),Object(qn.a)(e,"onChange",(function(e){return g(e.target.value)})),Object(qn.a)(e,"value",f),e)),Object(c.jsx)("br",{}),Object(c.jsx)(Gn.a,{onClick:function(){C(!_)}}),_?Object(c.jsx)("span",{children:" Disposition \xe0 droite"}):Object(c.jsx)("span",{children:" Disposition \xe0 gauche"}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{for:"file",children:"Ajouter une image"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{required:!0,style:{width:"140px"},type:"file",id:"file",name:"file",accept:".jpg, .jpeg, .png",onChange:function(e){N(URL.createObjectURL(e.target.files[0])),d(e.target.files[0])}})]}),Object(c.jsx)("div",{className:"row",children:""!==w&&Object(c.jsx)("img",{height:"300px",width:"100%",src:w,alt:""})}),Object(c.jsx)("div",{className:"footer-form",children:Object(c.jsxs)("div",{className:"btn-send",children:[O&&f&&a&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(B.b,{type:"submit",onClick:function(){h(""),g(""),d(""),N("")},children:"Annuler"}),Object(c.jsx)(B.b,{type:"submit",onClick:k,children:"Envoyer"})]}),!(O&&f&&a)&&Object(c.jsx)("div",{children:"Veuillez remplir toutes les informations!"})]})})]})})})})})})},Jn=function(e){var t=e.slid,n=Object(b.b)(),s=Object(r.useState)([]),i=Object(j.a)(s,2),a=i[0],o=i[1],l=Object(r.useState)(!1),d=Object(j.a)(l,2),u=d[0],p=d[1],h=Object(r.useState)(""),x=Object(j.a)(h,2),m=x[0],f=x[1],g=Object(r.useState)(""),v=Object(j.a)(g,2),y=v[0],w=v[1],N=Object(r.useState)(""),S=Object(j.a)(N,2),E=S[0],_=S[1],C=Object(r.useState)(""),k=Object(j.a)(C,2),R=k[0],A=k[1],I=function(){var e=new FormData;e.append("titre",t.titre),e.append("prix",t.prix),e.append("temps",t.temps),e.append("paramId",t._id),e.append("file",m),n(function(e,t){return function(n){return O.a.post("".concat("http://localhost:5000/","api/param/upload"),e).then((function(e){if(!e.data.errors)return n({type:ln,payload:""}),O.a.get("".concat("http://localhost:5000/","api/param/").concat(t)).then((function(e){n({type:bn,payload:e.data.picture})}));n({type:ln,payload:e.data.errors})})).catch((function(e){return console.log(e)}))}}(e,t._id))},T=function(){var e,c,r,s;(y||E||R)&&n((e=t._id,c=y,r=E,s=R,function(t){return O()({method:"put",url:"".concat("http://localhost:5000/","api/param/").concat(e),data:{titre:c,prix:r,temps:s}}).then((function(n){t({type:un,payload:{titre:c,prix:r,temps:s,paramId:e}})})).catch((function(e){return console.log(e)}))}))};return Object(c.jsx)(B.f,{children:Object(c.jsx)(B.l,{children:Object(c.jsx)(B.e,{md:"12",children:Object(c.jsx)(B.c,{children:Object(c.jsx)(B.d,{children:Object(c.jsxs)("form",{action:"",enctype:"multipart/form-data",children:[Object(c.jsxs)("div",{className:"grey-text",children:[Object(c.jsx)("input",{defaultValue:t.titre,label:"titre",type:"text",onChange:function(e){return w(e.target.value)}}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{label:"prix",type:"number",onChange:function(e){return _(e.target.value)},defaultValue:t.prix}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsxs)("select",{name:"temps",id:"temps",onChange:function(e){return A(e.target.value)},value:R,class:"browser-default custom-select",children:[Object(c.jsx)("option",{defaultValue:t.temps,children:t.temps}),Object(c.jsx)("option",{value:"Nuit",children:"Nuit"}),Object(c.jsx)("option",{value:"Jour",children:"Jour"}),Object(c.jsx)("option",{value:"Semaine",children:"Semaine"}),Object(c.jsx)("option",{value:"Mois",children:"Mois"})]})]}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{for:"file",children:"Changer d'image"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{style:{width:"140px"},type:"file",id:"file",name:"file",accept:".jpg, .jpeg, .png",onChange:function(e){o(URL.createObjectURL(e.target.files[0])),f(e.target.files[0]),p(!0)}}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{className:"row",children:!1===u?Object(c.jsx)("img",{height:"300px",width:"100%",src:t.picture,alt:""}):Object(c.jsx)("img",{height:"300px",width:"100%",src:a,alt:""})}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{className:"footer-form",children:Object(c.jsx)("div",{className:"btn-send",children:Object(c.jsx)(B.b,{type:"submit",onClick:function(){I(),T()},children:"Valider"})})})]})})})})})})},Yn=function(e){var t,n=e.sect,s=Object(b.b)(),i=Object(r.useState)([]),a=Object(j.a)(i,2),o=a[0],l=a[1],d=Object(r.useState)(!1),u=Object(j.a)(d,2),p=u[0],h=u[1],x=Object(r.useState)(""),m=Object(j.a)(x,2),f=m[0],g=m[1],v=Object(r.useState)(""),y=Object(j.a)(v,2),w=y[0],N=y[1],S=Object(r.useState)(""),E=Object(j.a)(S,2),_=E[0],C=E[1],k=function(){var e=new FormData;e.append("titre",n.titre),e.append("paragraph",n.paragraph),e.append("sectionId",n._id),e.append("file",f),s(function(e,t){return function(n){return O.a.post("".concat("http://localhost:5000/","api/section/upload"),e).then((function(e){if(!e.data.errors)return n({type:On,payload:""}),O.a.get("".concat("http://localhost:5000/","api/section/").concat(t)).then((function(e){n({type:fn,payload:e.data.picture})}));n({type:On,payload:e.data.errors})})).catch((function(e){return console.log(e)}))}}(e,n._id))},R=function(){var e,t,c;(w||_)&&s((e=n._id,t=w,c=_,function(n){return O()({method:"put",url:"".concat("http://localhost:5000/","api/section/").concat(e),data:{titre:t,paragraph:c}}).then((function(r){n({type:mn,payload:{titre:t,paragraph:c,sectionId:e}})})).catch((function(e){return console.log(e)}))}))};return Object(c.jsx)(B.f,{children:Object(c.jsx)(B.l,{children:Object(c.jsx)(B.e,{md:"12",children:Object(c.jsx)(B.c,{children:Object(c.jsx)(B.d,{children:Object(c.jsxs)("form",{action:"",enctype:"multipart/form-data",children:[Object(c.jsxs)("div",{className:"grey-text",children:[Object(c.jsx)("input",{defaultValue:n.titre,label:"titre",type:"text",onChange:function(e){return N(e.target.value)}}),Object(c.jsx)("br",{}),Object(c.jsx)("textarea",(t={class:"form-control rounded-0",id:"exampleFormControlTextarea2",rows:"3",name:"paragraph"},Object(qn.a)(t,"id","paragraph"),Object(qn.a)(t,"placeholder","Texte..."),Object(qn.a)(t,"onChange",(function(e){return C(e.target.value)})),Object(qn.a)(t,"defaultValue",n.paragraph),t))]}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{for:"file",children:"Changer d'image"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{style:{width:"140px"},type:"file",id:"file",name:"file",accept:".jpg, .jpeg, .png",onChange:function(e){l(URL.createObjectURL(e.target.files[0])),g(e.target.files[0]),h(!0)}}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{className:"row",children:!1===p?Object(c.jsx)("img",{height:"300px",width:"100%",src:n.picture,alt:""}):Object(c.jsx)("img",{height:"300px",width:"100%",src:o,alt:""})}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{className:"footer-form",children:Object(c.jsx)("div",{className:"btn-send",children:Object(c.jsx)(B.b,{type:"submit",onClick:function(){k(),R()},children:"Valider"})})})]})})})})})})},Qn=n.p+"static/media/house-5.17ede93a.jpg",Kn=(n.p,{heading:"Explore our Beautiful Cabanes",paragraphOne:"Learn how to make a React website with animat  le jour qui passe avant la fin du monde les parents et les enfants de bos dou sout soid souut aert pol  ooiu cloa ",paragraphTwo:"Learn how to make a React website with animat  le jour qui passe avant la fin du monde les parents et les enfants de bos dou sout soid souut aert pol  ooiu cloa ",buttonLabel:"Accueil",image:Qn,reverse:!1,delay:100}),Zn=[{title:"Cabane Atypik dans les Alpes, France",price:"100,00\u20ac",time:"Jour",path:"/home",label:"Accueil",image:n.p+"static/media/house-1.589d025b.jpg",alt:"House"},{title:"Cabane Atypik  dans le sud, France",price:"120,00\u20ac",time:"Jour",path:"/home",label:"Accueil",image:n.p+"static/media/house-2.a5d5db50.jpg",alt:"House"},{title:"Cabane Atypik dans les Yvelines, France",price:"200,00\u20ac",time:"Week-end",path:"/home",label:"Accueil",image:n.p+"static/media/house-3.07a2bab2.jpg",alt:"House"},{title:"Cabane Atypik pr\xe8s de Paris, France",price:"500,00\u20ac",time:"Semaine",path:"/home",label:"Accueil",image:n.p+"static/media/house-4.5f74d9ad.jpg",alt:"House"}];function Xn(){var e=Object(Oe.a)(["\n    * {\n        margin: 0;\n        padding: 0;\n        box-sizing: border-box;\n        font-family: 'Montserrat', sans-serif;\n    }\n\n    html, body {\n        overflow-x: hidden;\n    }\n"]);return Xn=function(){return e},e}var $n=Object(he.a)(Xn()),ec=function(){var e=Object(b.b)(),t=Object(r.useState)(!0),n=Object(j.a)(t,2),s=(n[0],n[1]),i=Object(b.c)((function(e){return e.usersReducer})),a=Object(b.c)((function(e){return e.userReducer})),o=Object(b.c)((function(e){return e.paramReducer})),l=Object(b.c)((function(e){return e.sectionReducer})),u=Object(r.useState)(!1),p=Object(j.a)(u,2),h=p[0],x=p[1],m=Object(r.useState)(""),f=Object(j.a)(m,2),g=f[0],v=f[1],y=Object(r.useState)(!1),w=Object(j.a)(y,2),N=w[0],S=w[1],E=Object(r.useState)(""),_=Object(j.a)(E,2),C=_[0],k=_[1],R=Object(r.useState)(!1),A=Object(j.a)(R,2),I=A[0],T=A[1],L=Object(r.useState)(!1),F=Object(j.a)(L,2),H=F[0],D=F[1],M=Object(r.useState)(!1),P=Object(j.a)(M,2),U=P[0],V=P[1],q=Object(r.useState)(!1),G=Object(j.a)(q,2),J=G[0],Y=G[1],Q=Object(r.useState)(!1),K=Object(j.a)(Q,2),Z=K[0],X=K[1],$=Object(r.useState)(!1),ee=Object(j.a)($,2),te=ee[0],ne=ee[1],ce=function(){T(!1)},re=function(){D(!1)},se=function(){V(!1)},ie=function(){Y(!1)},ae=function(){X(!1)},oe=function(){ne(!1)},le=function(t){var n;e((n=t,function(e){return O()({method:"delete",url:"".concat("http://localhost:5000/","api/param/").concat(n)}).then((function(t){e({type:dn,payload:{paramId:n}})})).catch((function(e){return console.log(e)}))}))},je=function(t){var n;e((n=t,function(e){return O()({method:"delete",url:"".concat("http://localhost:5000/","api/section/").concat(n)}).then((function(t){e({type:xn,payload:{sectionId:n}})})).catch((function(e){return console.log(e)}))}))};return Object(r.useEffect)((function(){!z(i[0])&&s(!1)}),[i]),Object(c.jsxs)("div",{children:[Object(c.jsxs)("nav",{style:{backgroundColor:"green",position:"fixed",zIndex:"100"},children:[Object(c.jsx)(d.c,{exact:!0,to:"/gestion",children:Object(c.jsx)("h3",{style:{color:"white",fontFamily:"fantasy",marginLeft:"20px",paddingTop:"20px"},children:"AtypikHouse@Dashboard"})}),Object(c.jsxs)("h6",{style:{textAlign:"right",fontWeight:"bolder",color:"black"},children:["What's up, ",a.pseudo,"!"]})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(vn,{})}),Object(c.jsx)("div",{className:"col-9",style:{paddingTop:"100px"},children:Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("br",{}),Object(c.jsx)("h1",{children:"Param\xe9trage de la page d'accueil"}),Object(c.jsx)($n,{}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("span",{style:{fontSize:"12px"},children:"Ajouter des slides "}),Object(c.jsx)("i",{onClick:function(){T(!0)},className:"fas fa-plus",style:{cursor:"pointer"}}),Object(c.jsxs)(W.a,{show:I,onHide:ce,children:[Object(c.jsx)(W.a.Header,{children:Object(c.jsx)(W.a.Title,{children:"Ajouter un slide"})}),Object(c.jsx)(W.a.Body,{children:Object(c.jsx)(Bn,{})}),Object(c.jsx)(W.a.Footer,{children:Object(c.jsx)("button",{onClick:ce,children:"Fermer"})})]})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("span",{style:{fontSize:"12px"},children:"Modifier des slides "}),Object(c.jsx)("i",{onClick:function(){D(!0)},className:"fas fa-edit",style:{cursor:"pointer"}}),Object(c.jsxs)(W.a,{show:H,onHide:re,children:[Object(c.jsxs)(W.a.Header,{children:[Object(c.jsx)(W.a.Title,{children:"Modifier un slide"}),h?Object(c.jsx)("button",{type:"button",class:"close",onClick:function(e){return x(!1)},"aria-label":"Close",children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}):null]}),Object(c.jsxs)(W.a.Body,{children:[!h&&Object(c.jsxs)("select",{name:"slideToUpdate",id:"slideToUpdate",onChange:function(e){return function(e){v(e),x(!0)}(e.target.value)},value:g,class:"browser-default custom-select",children:[Object(c.jsx)("option",{value:"",children:"----- Selectionner le Slide -----"}),!z(o[0])&&o.map((function(e,t){return Object(c.jsxs)("option",{value:e._id,children:[e.titre," "]},t)}))]}),h&&!z(o[0])&&o.map((function(e,t){if(e._id===g)return Object(c.jsx)(Jn,{slid:e})}))]}),Object(c.jsx)(W.a.Footer,{children:Object(c.jsx)("button",{onClick:re,children:"Fermer"})})]})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("span",{style:{fontSize:"12px"},children:"Supprimer des slides "}),Object(c.jsx)("i",{onClick:function(){V(!0)},className:"fas fa-trash",style:{cursor:"pointer"}}),Object(c.jsxs)(W.a,{show:U,onHide:se,children:[Object(c.jsx)(W.a.Header,{children:Object(c.jsxs)(W.a.Title,{children:["Supprimer un slide ",Object(c.jsx)("i",{className:"fas fa-trash"})]})}),Object(c.jsx)(W.a.Body,{children:!z(o[0])&&o.map((function(e,t){return Object(c.jsx)("ul",{children:Object(c.jsx)("li",{children:Object(c.jsx)(B.b,{onClick:function(){window.confirm("Voulez-vous supprimer ce slide ?")&&le(e._id)},children:e.titre},t)})})}))}),Object(c.jsx)(W.a.Footer,{children:Object(c.jsx)("button",{onClick:se,children:"Fermer"})})]})]})]}),Object(c.jsx)(Dn,{slides:Zn}),Object(c.jsx)("br",{}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("span",{style:{fontSize:"12px"},children:"Ajouter des sections "}),Object(c.jsx)("i",{onClick:function(){Y(!0)},className:"fas fa-plus",style:{cursor:"pointer"}}),Object(c.jsxs)(W.a,{show:J,onHide:ie,children:[Object(c.jsx)(W.a.Header,{children:Object(c.jsx)(W.a.Title,{children:"Ajouter une section"})}),Object(c.jsx)(W.a.Body,{children:Object(c.jsx)(Wn,{})}),Object(c.jsx)(W.a.Footer,{children:Object(c.jsx)("button",{onClick:ie,children:"Fermer"})})]})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("span",{style:{fontSize:"12px"},children:"Modifier des sections "}),Object(c.jsx)("i",{onClick:function(){X(!0)},className:"fas fa-edit",style:{cursor:"pointer"}}),Object(c.jsxs)(W.a,{show:Z,onHide:ae,children:[Object(c.jsxs)(W.a.Header,{children:[Object(c.jsx)(W.a.Title,{children:"Modifier une section"}),N?Object(c.jsx)("button",{type:"button",class:"close",onClick:function(e){return S(!1)},"aria-label":"Close",children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}):null]}),Object(c.jsxs)(W.a.Body,{children:[!N&&Object(c.jsxs)("select",{name:"slideToUpdate",id:"slideToUpdate",onChange:function(e){return function(e){k(e),S(!0)}(e.target.value)},value:C,class:"browser-default custom-select",children:[Object(c.jsx)("option",{value:"",children:"----- Selectionner la section -----"}),!z(l[0])&&l.map((function(e,t){return Object(c.jsx)("option",{value:e._id,children:e.titre},t)}))]}),N&&!z(l[0])&&l.map((function(e,t){if(e._id===C)return Object(c.jsx)(Yn,{sect:e})}))]}),Object(c.jsx)(W.a.Footer,{children:Object(c.jsx)("button",{onClick:ae,children:"Fermer"})})]})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("span",{style:{fontSize:"12px"},children:"Supprimer des sections "}),Object(c.jsx)("i",{onClick:function(){ne(!0)},className:"fas fa-trash",style:{cursor:"pointer"}}),Object(c.jsxs)(W.a,{show:te,onHide:oe,children:[Object(c.jsx)(W.a.Header,{children:Object(c.jsxs)(W.a.Title,{children:["Supprimer une section ",Object(c.jsx)("i",{className:"fas fa-trash"})]})}),Object(c.jsx)(W.a.Body,{children:!z(l[0])&&l.map((function(e,t){return Object(c.jsx)("ul",{children:Object(c.jsx)("li",{children:Object(c.jsx)(B.b,{onClick:function(){window.confirm("Voulez-vous supprimer cette section ?")&&je(e._id)},children:e.titre},t)})})}))}),Object(c.jsx)(W.a.Footer,{children:Object(c.jsx)("button",{onClick:oe,children:"Fermer"})})]})]})]}),Object(c.jsx)(Vn,Object(on.a)({},Kn))]})})]})]})},tc=function(e){var t=Object(r.useState)(!0),n=Object(j.a)(t,2),s=n[0],i=n[1],a=Object(b.c)((function(e){return e.usersReducer})),o=Object(b.c)((function(e){return e.userReducer})),l=Object(b.b)();return Object(r.useEffect)((function(){!z(a[0])&&i(!1)}),[a]),Object(c.jsxs)("div",{children:[Object(c.jsxs)("nav",{style:{backgroundColor:"green",position:"fixed",zIndex:"100"},width:"100%",children:[Object(c.jsx)(d.c,{exact:!0,to:"/gestion",children:Object(c.jsx)("h3",{style:{color:"white",fontFamily:"fantasy",marginLeft:"20px",paddingTop:"20px"},children:"AtypikHouse@Dashboard"})}),Object(c.jsxs)("h6",{style:{textAlign:"right",fontWeight:"bolder",color:"black"},children:["What's up, ",o.pseudo,"!"]})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(vn,{})}),Object(c.jsxs)("div",{className:"col-9",style:{paddingTop:"100px"},children:[Object(c.jsx)("br",{}),Object(c.jsx)("h1",{children:"Gestion des clients"}),Object(c.jsx)(c.Fragment,{children:s?Object(c.jsx)("i",{className:"fas fa-spinner fa-spin"}):Object(c.jsxs)(B.m,{children:[Object(c.jsx)(B.p,{color:"primary-color",children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Image"}),Object(c.jsx)("th",{children:"Pseudo"}),Object(c.jsx)("th",{children:"Email"}),Object(c.jsx)("th",{children:"Membre depuis"}),Object(c.jsx)("th",{children:"Actions"})]})}),Object(c.jsx)(B.n,{children:!z(a[0])&&a.map((function(e){if("client"===e.role)return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("img",{height:"40",width:"40",style:{borderRadius:"50%"},src:e.picture,alt:"poster-pic"})}),Object(c.jsx)("td",{children:e.pseudo}),Object(c.jsx)("td",{children:e.email}),Object(c.jsx)("td",{children:F(e.createdAt)}),Object(c.jsxs)("td",{children:[Object(c.jsx)("button",{type:"submit",className:"btn btn-danger",onClick:function(){var t;window.confirm("Voulez-vous supprimer cet utilisateur ?")&&(t=e._id,l(lt(t)),window.location.reload(!1))},children:Object(c.jsx)("i",{class:"fas fa-trash-alt"})})," ",Object(c.jsx)("button",{type:"submit",className:"btn btn-info",children:Object(c.jsx)("i",{className:"fas fa-user-edit"})})," ",Object(c.jsx)("button",{type:"submit",className:"btn btn-warning",children:Object(c.jsx)(d.c,{style:{color:"black"},to:{pathname:"/user_view",search:"id=".concat(e._id)},exact:!0,children:Object(c.jsx)("i",{className:"fas fa-eye"})})})]})]})}))})]})}),Object(c.jsx)(B.o,{children:'Created by "@Merith"'})]})]})]})},nc=function(){var e=Object(r.useState)(!0),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(b.c)((function(e){return e.usersReducer})),a=Object(b.c)((function(e){return e.userReducer})),o=Object(b.c)((function(e){return e.postReducer})),l=Object(b.b)();return Object(r.useEffect)((function(){!z(i[0])&&s(!1)}),[i]),Object(c.jsxs)("div",{children:[Object(c.jsxs)("nav",{style:{backgroundColor:"green",position:"fixed",zIndex:"100"},children:[Object(c.jsx)(d.c,{exact:!0,to:"/gestion",children:Object(c.jsx)("h3",{style:{color:"white",fontFamily:"fantasy",marginLeft:"20px",paddingTop:"20px"},children:"AtypikHouse@Dashboard"})}),Object(c.jsxs)("h6",{style:{textAlign:"right",fontWeight:"bolder",color:"black"},children:["What's up, ",a.pseudo,"!"]})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(vn,{})}),Object(c.jsxs)("div",{className:"col-9",style:{paddingTop:"100px"},children:[Object(c.jsx)("br",{}),Object(c.jsx)("h1",{children:"Gestion des propri\xe9taires"}),Object(c.jsx)(c.Fragment,{children:n?Object(c.jsx)("i",{className:"fas fa-spinner fa-spin"}):Object(c.jsxs)(B.m,{children:[Object(c.jsx)(B.p,{color:"primary-color",children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Image"}),Object(c.jsx)("th",{children:"Pseudo"}),Object(c.jsx)("th",{children:"Email"}),Object(c.jsx)("th",{children:"Membre depuis"}),Object(c.jsx)("th",{children:"Nombre de Post"}),Object(c.jsx)("th",{children:"Actions"})]})}),Object(c.jsx)(B.n,{children:!z(i[0])&&i.map((function(e){if("propri\xe9taire"===e.role)return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("img",{height:"40",width:"40",style:{borderRadius:"50%"},src:e.picture,alt:"poster-pic"})}),Object(c.jsx)("td",{children:e.pseudo}),Object(c.jsx)("td",{children:e.email}),Object(c.jsx)("td",{children:F(e.createdAt)}),Object(c.jsx)("td",{children:!z(o[0])&&o.map((function(t){t.posterId,e._id}))}),Object(c.jsxs)("td",{children:[Object(c.jsx)("button",{type:"submit",className:"btn btn-danger",onClick:function(){var t;window.confirm("Voulez-vous supprimer cet utilisateur ?")&&(t=e._id,l(lt(t)),window.location.reload(!1))},children:Object(c.jsx)("i",{class:"fas fa-trash-alt"})})," ",Object(c.jsx)("button",{type:"submit",className:"btn btn-info",children:Object(c.jsx)("i",{className:"fas fa-user-edit"})})," ",Object(c.jsx)("button",{type:"submit",className:"btn btn-warning",children:Object(c.jsx)(d.c,{style:{color:"black"},to:{pathname:"/user_view",search:"id=".concat(e._id)},exact:!0,children:Object(c.jsx)("i",{className:"fas fa-eye"})})})]})]})}))})]})}),Object(c.jsx)(B.o,{children:'Created by "@Merith"'})]})]})]})},cc=function(e){var t=e.post,n=Object(r.useState)(!0),s=Object(j.a)(n,2),i=s[0],a=s[1],o=Object(r.useState)(!1),l=Object(j.a)(o,2),d=l[0],u=l[1],p=Object(r.useState)(null),O=Object(j.a)(p,2),h=O[0],x=O[1],m=Object(r.useState)(!1),f=Object(j.a)(m,2),g=f[0],v=f[1],y=Object(b.c)((function(e){return e.usersReducer})),w=Object(b.b)(),N=Object(r.useContext)(M),S=Object(r.useState)(!1),E=Object(j.a)(S,2),_=E[0],C=E[1],k=function(){w(I(t._id,t.message,"non_reserv\xe9",t.clientId))};return Object(r.useEffect)((function(){!z(y[0])&&a(!1)}),[y]),Object(c.jsxs)("div",{children:[Object(c.jsx)("br",{}),Object(c.jsx)(B.c,{children:Object(c.jsx)("li",{className:"container",children:i?Object(c.jsx)("i",{className:"fas fa-spinner fa-spin"}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"round",children:Object(c.jsx)("h6",{style:{paddingTop:"3px"},children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-6",children:[Object(c.jsx)("img",{height:"40",width:"40",style:{borderRadius:"50%"},src:!z(y[0])&&y.map((function(e){return e._id===t.posterId?e.picture:null})).join(""),alt:"poster-pic"}),"  ",!z(y[0])&&y.map((function(e){return e._id===t.posterId?e.pseudo:null})).join("")]}),Object(c.jsx)("div",{className:"col-6",children:Object(c.jsx)("div",{className:"col-sm",style:{textAlign:"right"},children:Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{onClick:function(){return C(!0)},style:{cursor:"pointer"},"data-toggle":"modal","data-target":"#exampleModalPic",children:Object(c.jsx)("i",{className:"fas fa-image"})}),_&&Object(c.jsx)("div",{class:"modal fade",id:"exampleModalPic",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(c.jsx)("div",{class:"modal-dialog",role:"document",children:Object(c.jsxs)("div",{class:"modal-content",children:[Object(c.jsx)("div",{class:"modal-header",children:Object(c.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:"Images"})}),Object(c.jsx)("div",{class:"modal-body",children:Object(c.jsx)(oe,{post:t},t._id)}),Object(c.jsx)("div",{class:"modal-footer",children:Object(c.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Fermer"})})]})})})]})})})]})})}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:Object(c.jsx)("div",{children:Object(c.jsx)("h4",{children:t.titre})})}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-sm",children:[N?Object(c.jsxs)("div",{children:[t.picture&&Object(c.jsx)("img",{height:"200",width:"100%",src:t.picture[0],alt:"card-pic",className:"card-pic"}),t.video&&Object(c.jsx)("iframe",{width:"100%",height:"200",src:t.video,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:t._id})]}):Object(c.jsxs)(c.Fragment,{children:[t.picture&&Object(c.jsx)("img",{height:"200",width:"100%",src:t.picture,alt:"card-pic",className:"card-pic"}),t.video&&Object(c.jsx)("iframe",{width:"100%",height:"200",src:t.video,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:t._id})]}),d&&Object(c.jsxs)("div",{className:"update-post",children:[Object(c.jsx)("textarea",{defaultValue:t.message,onChange:function(e){return x(e.target.value)}}),Object(c.jsx)("div",{className:"button-container",children:Object(c.jsx)("button",{className:"btn",onClick:function(){h&&w(A(t._id,h)),u(!1)},children:"Valider modification"})})]})]}),Object(c.jsxs)("div",{className:"col-sm",children:[Object(c.jsxs)("span",{style:{fontSize:"12px",fontWeight:"bold"},children:["Publi\xe9e le ",F(t.createdAt)]}),!1===d&&Object(c.jsx)("p",{children:t.message})]})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-sm",children:[Object(c.jsx)("span",{style:{fontSize:"12px"},children:"commentaire "}),Object(c.jsx)("i",{onClick:function(){return v(!g)},className:"fas fa-comment"}),"  ",t.comments.length]}),Object(c.jsxs)("div",{className:"col-sm",children:[Object(c.jsx)("span",{style:{fontSize:"12px"},children:"j'aime "}),Object(c.jsx)("i",{className:"fas fa-star"}),"  ",t.likers.length]}),Object(c.jsxs)("div",{className:"col-sm",children:[Object(c.jsx)("span",{style:{fontSize:"12px"},children:"voir "}),Object(c.jsx)("i",{className:"fas fa-eye"})]}),Object(c.jsx)("div",{className:"col-sm",children:Object(c.jsx)("div",{className:"button-container",children:Object(c.jsx)(V,{id:t._id})})}),Object(c.jsx)("div",{className:"col-sm",children:Object(c.jsxs)("span",{style:{fontSize:"12px"},children:["status : ","r\xe9serv\xe9"===t.status?Object(c.jsx)("span",{style:{fontSize:"12px",backgroundColor:"#ff9f1a",borderRadius:"4px 8px"},children:"R\xe9serv\xe9"}):"attente"===t.status?Object(c.jsx)("span",{style:{fontSize:"12px",backgroundColor:"#25fde9",borderRadius:"4px 8px"},children:"En attente"}):"annul\xe9"===t.status?Object(c.jsx)("span",{style:{fontSize:"12px",backgroundColor:"#ff9f1a",borderRadius:"4px 8px"},children:"Annul\xe9"}):"non_reserv\xe9"===t.status?Object(c.jsx)("span",{style:{fontSize:"12px",backgroundColor:"#ff9f1a",borderRadius:"4px 8px"},children:"Non reserv\xe9"}):"validation"===t.status?Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{style:{fontSize:"12px",backgroundColor:"#25fde9",borderRadius:"4px 8px"},children:"En attente"}),Object(c.jsx)("form",{action:"",onClick:k,children:Object(c.jsx)("button",{type:"submit",children:"Valider"})})]}):void 0]})})]}),g&&Object(c.jsx)(G,{post:t})]})]})},t._id)})]})},rc=function(){var e=Object(r.useState)(!0),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(r.useState)(5),a=Object(j.a)(i,2),o=a[0],l=a[1],d=Object(b.b)(),u=Object(b.c)((function(e){return e.postReducer})),p=function(){window.innerHeight+document.documentElement.scrollTop+1>document.scrollingElement.scrollHeight&&s(!0)};return Object(r.useEffect)((function(){return n&&(d(k(o)),s(!1),l(o+5)),window.addEventListener("scroll",p),function(){return window.removeEventListener("scroll",p)}}),[n,d,o]),Object(c.jsx)("div",{className:"thread-container",children:Object(c.jsx)("ul",{children:!z(u[0])&&u.map((function(e){if("validation"===e.status)return Object(c.jsx)(cc,{post:e},e._id)}))})})},sc=function(){var e=Object(b.c)((function(e){return e.userReducer}));return Object(c.jsxs)("div",{children:[Object(c.jsxs)("nav",{style:{backgroundColor:"green",position:"fixed",zIndex:"100"},children:[Object(c.jsx)(d.c,{exact:!0,to:"/gestion",children:Object(c.jsx)("h3",{style:{color:"white",fontFamily:"fantasy",marginLeft:"20px",paddingTop:"20px"},children:"AtypikHouse@Dashboard"})}),Object(c.jsxs)("h6",{style:{textAlign:"right",fontWeight:"bolder",color:"black"},children:["What's up, ",e.pseudo,"!"]})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(vn,{})}),Object(c.jsxs)("div",{className:"col-9",style:{paddingTop:"100px"},children:[Object(c.jsx)("br",{}),Object(c.jsx)("h1",{children:"En attente de validation"}),Object(c.jsx)("div",{className:"container",children:Object(c.jsx)(rc,{})})]})]})]})},ic=function(){var e=Object(b.c)((function(e){return e.userReducer}));return Object(c.jsxs)("div",{children:[Object(c.jsxs)("nav",{style:{backgroundColor:"green",position:"fixed",zIndex:"100"},children:[Object(c.jsx)(d.c,{exact:!0,to:"/gestion",children:Object(c.jsx)("h3",{style:{color:"white",fontFamily:"fantasy",marginLeft:"20px",paddingTop:"20px"},children:"AtypikHouse@Dashboard"})}),Object(c.jsxs)("h6",{style:{textAlign:"right",fontWeight:"bolder",color:"black"},children:["What's up, ",e.pseudo,"!"]})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(vn,{})}),Object(c.jsx)("div",{className:"col-9",style:{paddingTop:"100px"},children:Object(c.jsxs)("div",{className:"container-fluid",children:[Object(c.jsxs)("div",{className:"block-header",children:[Object(c.jsx)("br",{}),Object(c.jsx)("h1",{children:"Param\xe8tres"}),Object(c.jsx)("small",{className:"text-muted",children:"Administrer les composants du fonctionnement de l'application"})]}),Object(c.jsx)("br",{}),Object(c.jsxs)("div",{class:"row clearfix",children:[Object(c.jsx)(B.b,{children:Object(c.jsx)(d.c,{exact:!0,to:"/ajout_admin",children:"Administrateur +"})}),Object(c.jsx)("div",{className:"col-1"}),Object(c.jsx)(B.b,{children:Object(c.jsx)(d.c,{exact:!0,to:"/listadmin",children:"Liste des Administrateurs"})}),Object(c.jsx)("div",{className:"col-1"}),Object(c.jsx)(B.b,{children:Object(c.jsx)(d.c,{exact:!0,to:"/paramhabitat",children:"parametres de l'habitat"})})]}),Object(c.jsx)("div",{class:"row clearfix",children:Object(c.jsx)(B.b,{children:Object(c.jsx)(d.c,{exact:!0,to:"/alerte",children:"Gestion des alertes"})})})]})})]})]})},ac=function(e){var t=Object(b.c)((function(e){return e.usersReducer}));return Object(c.jsxs)("div",{children:[Object(c.jsx)("nav",{style:{backgroundColor:"green",position:"fixed",zIndex:"100"},children:Object(c.jsx)("h3",{style:{color:"white",fontFamily:"fantasy",marginLeft:"20px",paddingTop:"20px"},children:"AtypikHouse@Dashboard"})}),Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)(B.f,{children:[Object(c.jsx)("bcomplexe",{r:!0}),Object(c.jsx)(B.l,{children:Object(c.jsx)(B.e,{md:"12",children:Object(c.jsx)(B.c,{children:Object(c.jsx)(B.d,{children:!z(t[0])&&t.map((function(t){if("?id=".concat(t._id)===e.location.search)return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("h1",{children:[" Profil de ",t.pseudo]}),Object(c.jsxs)("h6",{children:["Compte cr\xe9e le : ",F(t.createdAt)]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-6",children:Object(c.jsxs)("ul",{children:[Object(c.jsxs)("li",{children:["Pseudo: ",t.pseudo]}),Object(c.jsxs)("li",{children:["Email: ",t.email]}),Object(c.jsxs)("li",{children:["Tel: ",t.tel]})]})}),Object(c.jsx)("div",{className:"col-6",children:Object(c.jsxs)("div",{className:"left-part",children:[Object(c.jsx)("h3",{children:"Photo de profil"}),Object(c.jsx)("img",{height:"400",width:"100%",src:t.picture,alt:"user-pic"})]})})]})]})}))})})})})]})})]})},oc=function(){var e=Object(r.useState)(!0),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(r.useState)(5),a=Object(j.a)(i,2),o=a[0],l=a[1],d=Object(b.b)(),u=Object(b.c)((function(e){return e.postReducer})),p=function(){window.innerHeight+document.documentElement.scrollTop+1>document.scrollingElement.scrollHeight&&s(!0)};return Object(r.useEffect)((function(){return n&&(d(k(o)),s(!1),l(o+5)),window.addEventListener("scroll",p),function(){return window.removeEventListener("scroll",p)}}),[n,d,o]),Object(c.jsx)("div",{className:"thread-container",children:Object(c.jsx)("ul",{children:!z(u[0])&&u.map((function(e){return Object(c.jsx)(cc,{post:e},e._id)}))})})},lc=function(){var e=Object(b.c)((function(e){return e.userReducer}));return Object(c.jsxs)("div",{children:[Object(c.jsxs)("nav",{style:{backgroundColor:"green",position:"fixed",zIndex:"100"},children:[Object(c.jsx)(d.c,{exact:!0,to:"/gestion",children:Object(c.jsx)("h3",{style:{color:"white",fontFamily:"fantasy",marginLeft:"20px",paddingTop:"20px"},children:"AtypikHouse@Dashboard"})}),Object(c.jsxs)("h6",{style:{textAlign:"right",fontWeight:"bolder",color:"black"},children:["What's up, ",e.pseudo,"!"]})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(vn,{})}),Object(c.jsxs)("div",{className:"col-9",style:{paddingTop:"100px"},children:[Object(c.jsx)("br",{}),Object(c.jsx)("h1",{children:"Gestion des publications"}),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)(pe,{}),Object(c.jsx)(oc,{})]})]})]})]})},jc=function(){var e=Object(r.useState)(!1),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(r.useState)(""),a=Object(j.a)(i,2),u=a[0],p=a[1],h=Object(r.useState)(""),x=Object(j.a)(h,2),m=x[0],f=x[1],g=Object(r.useState)(""),v=Object(j.a)(g,2),y=v[0],w=v[1],N=Object(r.useState)(""),S=Object(j.a)(N,2),E=S[0],_=S[1],C=Object(b.c)((function(e){return e.userReducer})),k=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,c,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=document.querySelector(".pseudo.error"),c=document.querySelector(".email.error"),r=document.querySelector(".password.error"),(i=document.querySelector(".password-confirm.error")).innerHTML="",y===E){e.next=10;break}y!==E&&(i.innerHTML="Les mots de passe ne correspondent pas"),e.next=12;break;case 10:return e.next=12,O()({method:"post",url:"".concat("http://localhost:5000/","api/user/register"),data:{pseudo:u,email:m,password:y,role:"administrateur"}}).then((function(e){console.log(e),e.data.errors?(n.innerHTML=e.data.errors.pseudo,c.innerHTML=e.data.errors.email,r.innerHTML=e.data.errors.password):s(!0)})).catch((function(e){return console.log(e)}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{children:[Object(c.jsxs)("nav",{style:{backgroundColor:"green",position:"fixed",zIndex:"100"},children:[Object(c.jsx)(d.c,{exact:!0,to:"/gestion",children:Object(c.jsx)("h3",{style:{color:"white",fontFamily:"fantasy",marginLeft:"20px",paddingTop:"20px"},children:"AtypikHouse@Dashboard"})}),Object(c.jsxs)("h6",{style:{textAlign:"right",fontWeight:"bolder",color:"black"},children:["What's up, ",C.pseudo,"!"]})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(vn,{})}),Object(c.jsx)("div",{className:"col-9",style:{paddingTop:"100px"},children:n?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h4",{className:"success",style:{textAlign:"center",paddingTop:"15%"},children:"Ajout r\xe9ussi!"}),Object(c.jsx)("div",{class:"success-animation",children:Object(c.jsxs)("svg",{class:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[Object(c.jsx)("circle",{class:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),Object(c.jsx)("path",{class:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]})}),Object(c.jsx)("span",{})]}):Object(c.jsx)(B.f,{children:Object(c.jsx)(B.l,{children:Object(c.jsx)(B.e,{md:"12",children:Object(c.jsx)(B.c,{children:Object(c.jsx)(B.d,{children:Object(c.jsxs)("form",{action:"",onSubmit:k,id:"sign-up-form",children:[Object(c.jsx)("p",{className:"h4 text-center py-4",children:"Nouveau Administrateur"}),Object(c.jsxs)("div",{className:"grey-text",children:[Object(c.jsx)(B.i,{htmlFor:"pseudo",label:"Pseudo",icon:"user",type:"text",name:"pseudo",id:"pseudo",onChange:function(e){return p(e.target.value)},value:u}),Object(c.jsx)("div",{className:"pseudo error"}),Object(c.jsx)(B.i,{htmlFor:"email",label:"Email",icon:"envelope",type:"text",name:"email",id:"email",onChange:function(e){return f(e.target.value)},value:m}),Object(c.jsx)("div",{className:"email error"}),Object(c.jsx)(B.i,{htmlFor:"password",label:"Mot de passe",icon:"lock",type:"password",name:"password",id:"password",onChange:function(e){return w(e.target.value)},value:y}),Object(c.jsx)("div",{className:"password error"}),Object(c.jsx)(B.i,{htmlFor:"password-conf",label:"Confirmation mot de passe",icon:"exclamation-triangle",type:"password",name:"password",id:"password-conf",onChange:function(e){return _(e.target.value)},value:E}),Object(c.jsx)("div",{className:"password-confirm error"})]}),Object(c.jsx)("div",{className:"text-center py-4 mt-3",children:Object(c.jsx)(B.b,{type:"submit",children:"Valider"})})]})})})})})})})]})]})})},dc=function(){var e=Object(r.useState)(!0),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(b.c)((function(e){return e.usersReducer})),a=Object(b.c)((function(e){return e.userReducer}));return Object(r.useEffect)((function(){!z(i[0])&&s(!1)}),[i]),Object(c.jsxs)("div",{children:[Object(c.jsxs)("nav",{style:{backgroundColor:"green",position:"fixed",zIndex:"100"},children:[Object(c.jsx)(d.c,{exact:!0,to:"/gestion",children:Object(c.jsx)("h3",{style:{color:"white",fontFamily:"fantasy",marginLeft:"20px",paddingTop:"20px"},children:"AtypikHouse@Dashboard"})}),Object(c.jsxs)("h6",{style:{textAlign:"right",fontWeight:"bolder",color:"black"},children:["What's up, ",a.pseudo,"!"]})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(vn,{})}),Object(c.jsxs)("div",{className:"col-9",style:{paddingTop:"100px"},children:[Object(c.jsx)("br",{}),Object(c.jsxs)("h1",{children:["Liste des Administrateurs",Object(c.jsx)("div",{style:{textAlign:"right",paddingRight:"30px"},children:Object(c.jsx)(d.c,{exact:!0,to:"/ajout_admin",children:Object(c.jsx)("i",{className:"fas fa-plus",title:"Ajouter"})})})]}),Object(c.jsx)(c.Fragment,{children:n?Object(c.jsx)("i",{className:"fas fa-spinner fa-spin"}):Object(c.jsxs)(B.m,{children:[Object(c.jsx)(B.p,{color:"primary-color",children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Image"}),Object(c.jsx)("th",{children:"Pseudo"}),Object(c.jsx)("th",{children:"Email"}),Object(c.jsx)("th",{children:"Membre depuis"}),Object(c.jsx)("th",{children:"Actions"})]})}),Object(c.jsx)(B.n,{children:!z(i[0])&&i.map((function(e){if("administrateur"===e.role)return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("img",{height:"40",width:"40",style:{borderRadius:"50%"},src:e.picture,alt:"poster-pic"})}),Object(c.jsx)("td",{children:e.pseudo}),Object(c.jsx)("td",{children:e.email}),Object(c.jsx)("td",{children:F(e.createdAt)}),Object(c.jsx)("td",{children:Object(c.jsx)("button",{type:"submit",className:"btn btn-warning",children:Object(c.jsx)("a",{style:{color:"black"},href:"/user_view/".concat(e._id),children:Object(c.jsx)("i",{className:"fas fa-eye"})})})})]})}))})]})}),Object(c.jsx)(B.o,{children:'Created by "@Merith"'})]})]})]})},uc=function(){var e=Object(r.useState)(!0),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(r.useState)(5),a=Object(j.a)(i,2),o=a[0],l=a[1],d=Object(b.b)(),u=Object(b.c)((function(e){return e.postReducer})),p=Object(b.c)((function(e){return e.userReducer})),O=function(){window.innerHeight+document.documentElement.scrollTop+1>document.scrollingElement.scrollHeight&&s(!0)};return Object(r.useEffect)((function(){return n&&(d(k(o)),s(!1),l(o+5)),window.addEventListener("scroll",O),function(){return window.removeEventListener("scroll",O)}}),[n,d,o]),Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("ul",{children:!z(u[0])&&u.map((function(e){if(e.clientId===p._id&&"refus\xe9"!==e.status&&"non_reserv\xe9"!==e.status)return Object(c.jsx)(je,{post:e},e._id)}))})})},bc=function(){var e=Object(r.useState)(!1),t=Object(j.a)(e,2),n=t[0],s=t[1],i=function(){s(!n)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Le,{toggle:i}),Object(c.jsx)(Qe,{isOpen:n,toggle:i}),Object(c.jsx)("div",{className:"container",style:{paddingTop:"60px"},children:Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col-12",children:[Object(c.jsx)("br",{}),Object(c.jsx)("p",{children:"Liste de mes reservations"}),Object(c.jsx)(uc,{})]})})})]})},pc=function(){return Object(c.jsx)(B.g,{style:{backgroundColor:"#f39200"},children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-3",children:[Object(c.jsx)("h4",{children:"A propos"}),Object(c.jsx)("hr",{}),Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:"Qui sommes-nous?"}),Object(c.jsx)("li",{children:"Devenez propi\xe9taire"}),Object(c.jsx)("li",{children:"D\xe9venez locataire"})]}),Object(c.jsx)("h4",{children:"Nos applications"}),Object(c.jsx)("hr",{}),Object(c.jsx)("img",{width:"100%",src:"./img/pwa.png",alt:"appli"})]}),Object(c.jsxs)("div",{className:"col-3",children:[Object(c.jsx)("h4",{children:"l\xe9galit\xe9s"}),Object(c.jsx)("hr",{}),Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:"Conditions g\xe9n\xe9rales d'utilisation"}),Object(c.jsx)("li",{children:"Vie priv\xe9e et cookies"}),Object(c.jsx)("li",{children:"Vos droits et obligations"})]})]}),Object(c.jsxs)("div",{className:"col-3",children:[Object(c.jsx)("h4",{children:"Nos solutions"}),Object(c.jsx)("hr",{}),Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:"Publicit\xe9"}),Object(c.jsx)("li",{children:"Vos centres d'int\xe9r\xeat"}),Object(c.jsx)("li",{children:"Tourisme et d\xe9couverte"}),Object(c.jsx)("li",{children:"Ecologie (les verts)"})]})]}),Object(c.jsxs)("div",{className:"col-3",children:[Object(c.jsx)("h4",{children:"Questions?"}),Object(c.jsx)("hr",{}),Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:"Aide"}),Object(c.jsx)("li",{children:"S\xe9curit\xe9 de paiement"}),Object(c.jsx)("li",{children:"Status de nos service"}),Object(c.jsx)("li",{children:"Nos conseill\xe9(e)s \xe0 votre \xe9coute"})]})]})]})})},Oc=function(){var e=Object(r.useState)(!1),t=Object(j.a)(e,2),n=t[0],s=t[1],i=function(){s(!n)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)($n,{}),Object(c.jsx)(Le,{toggle:i}),Object(c.jsx)(Qe,{isOpen:n,toggle:i}),Object(c.jsx)(Dn,{slides:Zn}),Object(c.jsx)(be,{}),Object(c.jsx)(Vn,Object(on.a)({},Kn)),Object(c.jsx)(pc,{})]})},hc=function(){var e=Object(r.useState)(!1),t=Object(j.a)(e,2),n=t[0],s=t[1],i=function(){s(!n)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Nt,{toggle:i}),Object(c.jsx)(Mt,{isOpen:n,toggle:i}),Object(c.jsx)("div",{className:"container",style:{paddingTop:"60px"},children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-1",style:{float:"right"},children:Object(c.jsx)(be,{})}),Object(c.jsxs)("div",{className:"col-11",children:[Object(c.jsx)("br",{}),Object(c.jsx)(pe,{}),Object(c.jsx)("hr",{}),Object(c.jsx)(de,{})]}),Object(c.jsx)("div",{className:""})]})})]})},xc=function(e){var t=e.post;return Object(c.jsx)("div",{children:Object(c.jsx)(J,{post:t})})},mc=function(){return Object(c.jsx)("div",{children:Object(c.jsx)(d.a,{children:Object(c.jsxs)(u.d,{children:[Object(c.jsx)(u.b,{path:"/",exact:!0,component:Oc}),Object(c.jsx)(u.b,{path:"/Home",exact:!0,component:Ze}),Object(c.jsx)(u.b,{path:"/Homepro",exact:!0,component:hc}),Object(c.jsx)(u.b,{path:"/profil",exact:!0,component:ut}),Object(c.jsx)(u.b,{path:"/profil_pro",exact:!0,component:Pt}),Object(c.jsx)(u.b,{path:"/profil_admin",exact:!0,component:Bt}),Object(c.jsx)(u.b,{path:"/bestof",exact:!0,component:qt}),Object(c.jsx)(u.b,{path:"/favoris",exact:!0,component:Wt}),Object(c.jsx)(u.b,{path:"/newpost",exact:!0,component:Qt}),Object(c.jsx)(u.b,{path:"/reservation",exact:!0,component:rn}),Object(c.jsx)(u.b,{path:"/post_pro/",exact:!0,component:an}),Object(c.jsx)(u.b,{path:"/mes_reservations",exact:!0,component:bc}),Object(c.jsx)(u.b,{path:"/prisedevue",exact:!0,component:xc}),Object(c.jsx)(u.b,{path:"/gestion",exact:!0,component:ec}),Object(c.jsx)(u.b,{path:"/gestion_clients",exact:!0,component:tc}),Object(c.jsx)(u.b,{path:"/gestion_pro",exact:!0,component:nc}),Object(c.jsx)(u.b,{path:"/gestion_pubs",exact:!0,component:lc}),Object(c.jsx)(u.b,{path:"/pub_attente",exact:!0,component:sc}),Object(c.jsx)(u.b,{path:"/parametres",exact:!0,component:ic}),Object(c.jsx)(u.b,{path:"/ajout_admin",exact:!0,component:jc}),Object(c.jsx)(u.b,{path:"/listadmin",exact:!0,component:dc}),Object(c.jsx)(u.b,{path:"/user_view",exact:!0,component:ac}),Object(c.jsx)(u.a,{to:"/"})]})})})},fc=function(){var e=Object(r.useState)(null),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(b.b)();return Object(r.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"get",url:"".concat("http://localhost:5000/","jwtid"),withCredentials:!0}).then((function(e){s(e.data)})).catch((function(e){return console.log("No token")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),n&&i(function(e){return function(t){return O.a.get("".concat("http://localhost:5000/","api/user/").concat(e)).then((function(e){t({type:rt,payload:e.data})})).catch((function(e){return console.log(e)}))}}(n))}),[n,i]),Object(c.jsxs)(M.Provider,{value:n,children:[Object(c.jsx)($n,{}),Object(c.jsx)(mc,{})]})},gc=n(54),vc=n(246),yc={};var wc="GET_USERS",Nc={};var Sc=n(248),Ec={};var _c={userError:[],postError:[],paramError:[],sectionError:[]};var Cc={};var kc={};var Rc={};var Ac={};var Ic=Object(gc.combineReducers)({userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case rt:return t.payload;case st:return Object(on.a)(Object(on.a)({},e),{},{picture:t.payload});case it:return Object(on.a)(Object(on.a)({},e),{},{bio:t.payload});case at:return Object(on.a)(Object(on.a)({},e),{},{userId:t.payload});default:return e}},usersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wc:return t.payload;default:return e}},postReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ec,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return t.payload;case m:return e.map((function(e){return e._id===t.payload.postId?Object(on.a)(Object(on.a)({},e),{},{likers:[t.payload.userId].concat(Object(Sc.a)(e.likers))}):e}));case f:return e.map((function(e){return e._id===t.payload.postId?Object(on.a)(Object(on.a)({},e),{},{likers:e.likers.filter((function(e){return e!==t.payload.userId}))}):e}));case g:return e.map((function(e){return e._id===t.payload.postId?Object(on.a)(Object(on.a)({},e),{},{message:t.payload.message}):e}));case _:return Object(on.a)(Object(on.a)({},e),{},{status:e.postReducer});case C:return Object(on.a)(Object(on.a)({},e),{},{clientId:e.postReducer});case v:return e.filter((function(e){return e._id!==t.payload.postId}));case y:return e.map((function(e){return e._id===t.payload.postId?Object(on.a)(Object(on.a)({},e),{},{comments:e.comments.map((function(e){return e._id===t.payload.commentId?Object(on.a)(Object(on.a)({},e),{},{text:t.payload.text}):e}))}):e}));case w:return e.map((function(e){return e._id===t.payload.postId?Object(on.a)(Object(on.a)({},e),{},{reservations:e.reservations.map((function(e){return e._id===t.payload.reservationId?Object(on.a)(Object(on.a)({},e),{},{paiement:t.payload.paiement}):e}))}):e}));case N:return e.map((function(e){return e._id===t.payload.postId?Object(on.a)(Object(on.a)({},e),{},{comments:e.comments.filter((function(e){return e._id!==t.payload.commentId}))}):e}));default:return e}},errorReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return{postError:t.payload,paramError:[],userError:[],sectionError:[]};case ln:return{paramError:t.payload,userError:[],postError:[],sectionError:[]};case ot:return{userError:t.payload,postError:[],paramError:[],sectionError:[]};case On:return{sectionError:t.payload,postError:[],paramError:[],userError:[]};default:return e}},allPostsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return t.payload;default:return e}},bestofReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return t.payload;default:return e}},paramReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case jn:return t.payload;case bn:return Object(on.a)(Object(on.a)({},e),{},{picture:t.payload});case un:return e.map((function(e){return e._id===t.payload.paramId?Object(on.a)({},e):e}));case dn:return e.filter((function(e){return e._id!==t.payload.paramId}));default:return e}},sectionReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ac,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case hn:return t.payload;case fn:return Object(on.a)(Object(on.a)({},e),{},{picture:t.payload});case mn:return e.map((function(e){return e._id===t.payload.sectionId?Object(on.a)({},e):e}));case xn:return e.filter((function(e){return e._id!==t.payload.sectionId}));default:return e}}}),Tc=(n(499),n(249)),Lc=n(247);Object(Tc.a)();var Fc=Object(gc.createStore)(Ic,Object(Lc.composeWithDevTools)(Object(gc.applyMiddleware)(vc.a)));Fc.dispatch((function(e){return O.a.get("".concat("http://localhost:5000/","api/user")).then((function(t){e({type:wc,payload:t.data})})).catch((function(e){return console.log(e)}))})),Fc.dispatch(k()),Fc.dispatch((function(e){return O.a.get("".concat("http://localhost:5000/","api/param/")).then((function(t){e({type:jn,payload:t.data})})).catch((function(e){return console.log(e)}))})),Fc.dispatch((function(e){return O.a.get("".concat("http://localhost:5000/","api/section/")).then((function(t){e({type:hn,payload:t.data})})).catch((function(e){return console.log(e)}))})),i.a.render(Object(c.jsx)(b.a,{store:Fc,children:Object(c.jsx)(fc,{})}),document.getElementById("root"))},79:function(e,t,n){}},[[500,1,2]]]);
//# sourceMappingURL=main.c85c8187.chunk.js.map